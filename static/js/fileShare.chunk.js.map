{"version":3,"sources":["component/FileManager/FileIcon.js","config.js","actions/index.js","untils/index.js","component/SharedFile.js","pages/fileShare.app.js","pages/fileShare.js","component/Navbar.js","component/Snackbar.js","reducers/index.js","component/SearchBar.js","component/StorageBar.js","component/UserAvatar.js","component/UserInfo.js","loader/utils.js","loader/index.js","component/Upload/FileList.js","component/Uploader.js"],"names":["FileIconCompoment","state","loading","_classNames","_classNames2","_classNames4","_classNames5","icon","iconBig","_this2","this","classes","props","isSelected","selected","findIndex","value","file","fileType","name","split","pop","toLowerCase","mediaType","indexOf","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","_material_ui_icons_PhotoSizeSelectActual__WEBPACK_IMPORTED_MODULE_13___default","className","iconImg","iconImgBig","_material_ui_icons_Videocam__WEBPACK_IMPORTED_MODULE_14___default","iconVideo","iconVideoBig","_material_ui_icons_Audiotrack__WEBPACK_IMPORTED_MODULE_15___default","iconAudio","iconAudioBig","_material_ui_icons_PictureAsPdf__WEBPACK_IMPORTED_MODULE_16___default","iconPdf","iconPdfBig","mdi_material_ui__WEBPACK_IMPORTED_MODULE_20__","iconWord","iconWordBig","iconPpt","iconPptBig","iconExcel","iconExcelBig","iconText","iconTextBig","iconTorrent","iconTorrentBig","iconZip","iconZipBig","iconExe","iconExeBig","iconAndroid","iconAndroidBig","_material_ui_icons_InsertDriveFile__WEBPACK_IMPORTED_MODULE_18___default","container","_material_ui_core_ButtonBase__WEBPACK_IMPORTED_MODULE_9___default","focusRipple","classNames","Object","C_Users_Yang_Desktop_frontend_master_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","notSelected","button","pic","allowSharePreview","preview","react_lazy_load_image_component__WEBPACK_IMPORTED_MODULE_21__","hide","picPreview","src","window","apiURL","imgThumb","encodeURIComponent","path","afterLoad","setState","beforeLoad","react_content_loader__WEBPACK_IMPORTED_MODULE_22__","height","width","loadingAnimation","x","y","previewIcon","_material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_17___default","fileInfo","share","iconSelected","iconNotSelected","_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_19___default","title","aria-label","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_10___default","folderName","folderNameSelected","folderNameNotSelected","shareFix","Component","defaultProps","FileIcon","connect","navigator","explorer","dispatch","withStyles","theme","padding","&:hover","border","backgroundColor","palette","bgSelected","background","paper","borderRadius","boxSizing","transition","alignItems","display","color","primary","dark","fontWeight","filename","marginTop","textOverflow","whiteSpace","overflow","marginRight","paddingTop","margin","minWidth","fontSize","iconFile","iconFileBig","marginLeft","__webpack_require__","d","__webpack_exports__","imgPreviewSuffix","editSuffix","isPreviewable","isTorrent","msDocPreviewSuffix","audioPreviewSuffix","videoPreviewSuffix","directOpenPreviewSuffix","audio","video","image","pdf","word","ppt","excel","text","torrent","zip","excute","android","suffix","navitateTo","navitateUp","drawerToggleAction","changeViewMethod","changeSortMethod","updateFileList","changeContextMenu","addSelectedTarget","setSelectedTarget","removeSelectedTarget","setNavigatorLoadingStatus","setNavigatorError","openCreateFolderDialog","openRenameDialog","openMoveDialog","openRemoveDialog","openShareDialog","openMusicDialog","openRemoteDownloadDialog","openTorrentDownloadDialog","openGetSourceDialog","closeAllModals","toggleSnackbar","setModalsLoading","refreshFileList","searchMyFile","showImgPreivew","refreshStorage","saveFile","type","open","method","list","menuType","targets","id","status","msg","vertical","horizontal","keywords","first","sizeToString","setCookie","setGetParameter","checkGetParameters","changeThemeColor","bytes","i","Math","floor","log","pow","toFixed","days","date","Date","setTime","getTime","document","cookie","paramName","paramValue","url","location","href","hash","replace","prefix","substring","history","pushState","isSharePage","shareInfo","allowPreview","userInfo","uid","field","querySelector","setAttribute","allowDownload","SharedFileCompoment","anchorEl","fileName","docPreiview","shareId","_this","download","axios","post","key","then","response","data","error","result","catch","message","handleOpen","event","currentTarget","react_default","layout","fileCotainer","buttonCotainer","Button_default","variant","onClick","CloudDownload_default","fileSize","RemoveRedEye_default","Info_default","Popper_default","_ref","TransitionProps","Fade_default","assign","timeout","Paper_default","Typography_default","ViewNum","downloadNum","SharedFile","defineProperty","spacing","unit","breakpoints","up","player","textAlign","createMuiTheme","colorTheme","FileShareApp","Fragment","core_styles","root","CssBaseline_default","Snackbar","Navbar","content","toolbar","component_SharedFile","flexGrow","mixins","defaultStatus","refresh","viewUpdate","isHomePage","explorerViewMethod","sortMethod","contextType","menuOpen","navigatorLoading","navigatorError","navigatorErrorMsg","modalsLoading","storageRefresh","modals","createNewFolder","rename","move","remove","music","remoteDownload","torrentDownload","snackbar","toggle","fileList","dirList","selectProps","isMultiple","withFolder","withFile","imgPreview","other","store","createStore","cloureveApp","ReactDOM","render","es","fileShare_app","getElementById","NavbarCompoment","C_Users_Yang_Desktop_frontend_master_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_Users_Yang_Desktop_frontend_master_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_Users_Yang_Desktop_frontend_master_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","componentDidMount","length","main","default","componentWillReceiveProps","nextProps","handleDrawerToggle","mobileOpen","clickUpload","queued","UploaderRef","current","getWrappedInstance","openFileList","updateQueueStatus","filterFile","openPreview","previewPath","openDownload","downloadPath","React","createRef","_Uploader_js__WEBPACK_IMPORTED_MODULE_47__","queueChange","ref","_this3","drawer","isMobile","_UserInfo__WEBPACK_IMPORTED_MODULE_51__","addButton","_material_ui_core_Badge__WEBPACK_IMPORTED_MODULE_41___default","badgeContent","badge","badgeFix","invisible","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_26___default","disabled","size","fabButton","_material_ui_icons_Add__WEBPACK_IMPORTED_MODULE_16___default","extendedIcon","_material_ui_core_ListItem__WEBPACK_IMPORTED_MODULE_33___default","_material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_34___default","_material_ui_icons_FolderShared__WEBPACK_IMPORTED_MODULE_37___default","iconFix","_material_ui_core_ListItemText__WEBPACK_IMPORTED_MODULE_35___default","_material_ui_core_List__WEBPACK_IMPORTED_MODULE_39___default","_material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_32___default","hiddenButton","_material_ui_icons_CloudUpload__WEBPACK_IMPORTED_MODULE_36___default","_material_ui_icons_VideoLibrary__WEBPACK_IMPORTED_MODULE_13___default","_material_ui_icons_Collections__WEBPACK_IMPORTED_MODULE_15___default","_material_ui_icons_LibraryMusic__WEBPACK_IMPORTED_MODULE_14___default","_material_ui_icons_FileCopy__WEBPACK_IMPORTED_MODULE_17___default","iconDoc","dividerFix","_material_ui_icons_Share__WEBPACK_IMPORTED_MODULE_18___default","inset","_material_ui_icons_CloudDownload__WEBPACK_IMPORTED_MODULE_21___default","_StorageBar__WEBPACK_IMPORTED_MODULE_49__","mdi_material_ui__WEBPACK_IMPORTED_MODULE_52__","stickFooter","shareInfoContainer","ownerUid","_material_ui_core_Avatar__WEBPACK_IMPORTED_MODULE_31___default","shareAvatar","ownerInfo","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_9___default","noWrap","ownerNick","shareDate","iOS","process","browser","test","userAgent","_material_ui_core_AppBar__WEBPACK_IMPORTED_MODULE_7___default","position","appBar","_material_ui_core_Toolbar__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_29___default","menuButton","_material_ui_icons_Menu__WEBPACK_IMPORTED_MODULE_40___default","handleDesktopToggle","desktopOpen","menuButtonDesktop","_material_ui_core_Grow__WEBPACK_IMPORTED_MODULE_42___default","in","menuIcon","_material_ui_icons_ArrowBack__WEBPACK_IMPORTED_MODULE_19___default","pageId","folderShareIcon","siteInfo","mainTitle","_SearchBar__WEBPACK_IMPORTED_MODULE_48__","grow","sectionForFile","_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_43___default","_material_ui_icons_Save__WEBPACK_IMPORTED_MODULE_38___default","_material_ui_icons_OpenInNew__WEBPACK_IMPORTED_MODULE_20___default","_material_ui_icons_FolderOpen__WEBPACK_IMPORTED_MODULE_22___default","_material_ui_icons_BorderColor__WEBPACK_IMPORTED_MODULE_23___default","_material_ui_icons_Input__WEBPACK_IMPORTED_MODULE_24___default","_material_ui_icons_Delete__WEBPACK_IMPORTED_MODULE_25___default","_UserAvatar__WEBPACK_IMPORTED_MODULE_50__","loadUploader","_material_ui_core_Hidden__WEBPACK_IMPORTED_MODULE_30___default","smUp","implementation","_material_ui_core_SwipeableDrawer__WEBPACK_IMPORTED_MODULE_28___default","drawerPaper","anchor","onClose","onOpen","disableDiscovery","ModalProps","keepMounted","xsDown","_material_ui_core_Drawer__WEBPACK_IMPORTED_MODULE_27___default","C_Users_Yang_Desktop_frontend_master_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_5__","drawerOpen","drawerClose","withTheme","_appBar","down","zIndex","flexShrink","drawerDesktop","transitions","create","easing","sharp","duration","enteringScreen","leavingScreen","overflowX","top","right","nested","paddingLeft","marginBottom","verticalAlign","textDecoration","bottom","variantIcon","success","CheckCircleIcon","warning","WarningIcon","ErrorIcon","info","InfoIcon","MySnackbarContentWrapper","green","amber","iconVariant","opacity","C_Users_Yang_Desktop_frontend_master_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_5__","Icon","_material_ui_core_SnackbarContent__WEBPACK_IMPORTED_MODULE_11___default","aria-describedby","action","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_19___default","close","_material_ui_icons_Close__WEBPACK_IMPORTED_MODULE_15___default","SnackbarCompoment","handleClose","_material_ui_core_Snackbar__WEBPACK_IMPORTED_MODULE_12___default","anchorOrigin","autoHideDuration","AlertBar","checkSelectedProps","map","doNavigate","contextOpen","cloudreveApp","arguments","undefined","sort","b","localeCompare","parse","filter","newState","C_Users_Yang_Desktop_frontend_master_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","concat","selectedProps","oldSelected","splice","pathSplit","newPath","join","getSource","fileSave","SearchBarCompoment","input","handleChange","target","cancelSuggest","searchShare","search","searchIcon","_material_ui_icons_Search__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_core_InputBase__WEBPACK_IMPORTED_MODULE_10___default","placeholder","inputRoot","inputInput","onChange","onBlur","_material_ui_core_Popper__WEBPACK_IMPORTED_MODULE_11___default","suggestBox","_material_ui_core_Fade__WEBPACK_IMPORTED_MODULE_12___default","_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_13___default","square","_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_14___default","_material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_15___default","_material_ui_core_ListItemText__WEBPACK_IMPORTED_MODULE_16___default","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_17___default","_material_ui_icons_Share__WEBPACK_IMPORTED_MODULE_19___default","SearchBar","_search","shape","fade","common","white","pointerEvents","justifyContent","paddingRight","paddingBottom","&:focus","StorageBarCompoment","percent","used","total","firstLoad","updateStatus","get","rate","react__WEBPACK_IMPORTED_MODULE_5___default","storageContainer","_material_ui_icons_Storage__WEBPACK_IMPORTED_MODULE_10___default","detail","_material_ui_core_LinearProgress__WEBPACK_IMPORTED_MODULE_7___default","bar","_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_13___default","placement","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_9___default","StorageBar","secondary","textFix","UserAvatarCompoment","showUserInfo","e","openURL","mobileHidden","_material_ui_core_Grow__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_core_IconButton__WEBPACK_IMPORTED_MODULE_11___default","_material_ui_icons_Settings__WEBPACK_IMPORTED_MODULE_13___default","mdi_material_ui__WEBPACK_IMPORTED_MODULE_19__","_material_ui_core_Avatar__WEBPACK_IMPORTED_MODULE_10___default","avatar","_material_ui_core_Popover__WEBPACK_IMPORTED_MODULE_12___default","transformOrigin","visitorMenu","_material_ui_core_Divider__WEBPACK_IMPORTED_MODULE_18___default","_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_17___default","_material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_16___default","header","largeAvatarContainer","largeAvatar","_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_14___default","nick","email","_material_ui_core_Chip__WEBPACK_IMPORTED_MODULE_15___default","groupId","label","group","UserAvatar","UserInfoCompoment","userNav","flexAvatar","alt","avatarImg","storageCircle","nickName","component","groupName","UserInfo","backgroundImage","light","backgroundSize","boxShadow","isFunction","val","noop","_","newScript","cb","scriptElem","prototype","hasOwnProperty","addEventListener","body","appendChild","series","_len3","tasks","Array","_key3","each","thunk","nextKey","cols","keys","next","keyIterator","nextThunk","isArray","_len","_key","hasError","successed","ret","forEach","task","err","_len2","args","_key2","apply","iterator","_len4","_key4","push","loadedScript","pendingScripts","failedScript","addCache","entry","removeFailedScript","script","node","parentNode","removeChild","scriptLoader","scripts","WrappedComponent","ScriptLoader","_Component","context","classCallCheck","possibleConstructorReturn","getPrototypeOf","isScriptLoaded","isScriptLoadSucceed","_isMounted","inherits","createClass","onComplete","loadNewScript","taskComplete","callbacks","toConsumableArray","startLoadingScripts","onScriptLoaded","refs","wrappedInstance","objectSpread","hoistStatics","FileList","files","cancelUpload","deQueue","addNewFile","getElementsByClassName","click","filesNow","console","fileID","f","errMsg","Slide_default","direction","fileIcon","inRef","bind","enQueue","setComplete","setError","listContent","item","progressItem","queueIcon","MusicNote_default","Videocam_default","InsertDriveFile_default","ListItemText_default","successStatus","plupload","formatSize","speed","toUpperCase","loaded","LinearProgress_default","progressBar","errorStatus","ListItem_default","Avatar_default","ListItemSecondaryAction_default","IconButton_default","Delete_default","Divider_default","Dialog_default","fullScreen","isWidthDown","TransitionComponent","Transition","AppBar_default","Toolbar_default","Close_default","flex","AddCircleOutline_default","DialogContent_default","dialogContent","List_default","minHight","withWidth","UploaderCompoment","uploader","removeFile","nextState","Qiniu","runtimes","browse_button","drop_element","max_file_size","uploadConfig","maxSize","dragdrop","chunk_size","ChunkSize","filters","mime_types","allowedType","multi_selection","moxie","core","utils","Env","OS","uptoken_url","domain","get_new_uptoken","auto_start","log_level","init","FilesAdded","_ref2","pathCache","BeforeUpload","QueueChanged","UploadProgress","UploadComplete","FileUploaded","Error","errTip","FilesRemoved","onError","_this$props","Upload_FileList","setRef","Uploader","forwardRef"],"mappings":"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","file":"static/js/fileShare.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux'\nimport { withStyles } from '@material-ui/core/styles';\n\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Typography from '@material-ui/core/Typography';\nimport classNames from 'classnames';\nimport {allowSharePreview} from \"../../untils/index\"\nimport ImageIcon from '@material-ui/icons/PhotoSizeSelectActual'\nimport VideoIcon from '@material-ui/icons/Videocam'\nimport AudioIcon from '@material-ui/icons/Audiotrack'\nimport PdfIcon from \"@material-ui/icons/PictureAsPdf\"\nimport Divider from \"@material-ui/core/Divider\"\nimport FileShowIcon from \"@material-ui/icons/InsertDriveFile\"\nimport Tooltip from '@material-ui/core/Tooltip';\nimport {FileWordBox,FilePowerpointBox,FileExcelBox,ScriptText,MagnetOn,ZipBox,WindowRestore,Android} from 'mdi-material-ui'\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport ContentLoader from 'react-content-loader'\nimport {mediaType} from \"../../config\"\n\nconst styles = theme => ({\n    container: {\n        padding: \"7px\",\n    },\n\n    selected: {\n        \"&:hover\": {\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: theme.palette.explorer.bgSelected,\n\n    },\n\n    notSelected: {\n        \"&:hover\": {\n            backgroundColor: \"#f9f9f9\",\n            border: \"1px solid #d0d0d0\",\n        },\n        backgroundColor: theme.palette.background.paper,\n    },\n\n    button: {\n        border: \"1px solid #dadce0\",\n        width: \"100%\",\n        borderRadius: \"6px\",\n        boxSizing: \"border-box\",\n        transition: \"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms\",\n        alignItems: \"initial\",\n        display: \"initial\",\n    },\n    folderNameSelected: {\n        color: theme.palette.primary.dark,\n        fontWeight: \"500\",\n    },\n    folderNameNotSelected: {\n        color: theme.palette.explorer.filename,\n    },\n    folderName: {\n        marginTop: \"15px\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\",\n        marginRight: \"20px\",\n    },\n    preview:{\n        overflow: \"hidden\",\n        height:\"150px\",\n        width:\"100%\",\n        borderRadius: \"6px 6px 0 0\",  \n    },\n    previewIcon:{\n        overflow: \"hidden\",\n        height:\"149px\",\n        width:\"100%\",\n        borderRadius: \"6px 6px 0 0\",  \n        backgroundColor:theme.palette.background.paper,\n        paddingTop:\"50px\",\n    },\n    picPreview:{\n        \"height\": \"auto\",\n        \"width\": \"100%\",\n    },\n    fileInfo:{\n        height:\"50px\", \n        display: \"flex\",\n    },\n    icon: {\n        margin: \"10px 10px 10px 16px\",\n        height: \"30px\",\n        minWidth: \"30px\",\n        backgroundColor: theme.palette.background.paper,\n        borderRadius: \"90%\",\n        paddingTop: \"2px\",\n        color: theme.palette.explorer.icon,\n    }, \n    iconImg :  {\n        color:\"#d32f2f\",\n    },\n    iconImgBig:{    \n        color:\"#d32f2f\",\n        fontSize: \"50px\",\n    },\n    iconVideo :  {\n        color:\"#d50000\",\n    },\n    iconVideoBig:{    \n        color:\"#d50000\",\n        fontSize: \"50px\",\n    },\n    iconAudio :  {\n        color:\"#651fff\",\n    },\n    iconAudioBig:{    \n        color:\"#651fff\",\n        fontSize: \"50px\",\n    },\n    iconPdf :  {\n        color:\"#f44336\",\n    },\n    iconPdfBig:{    \n        color:\"#f44336\",\n        fontSize: \"50px\",\n    },\n    iconWord :  {\n        color:\"#538ce5\",\n    },\n    iconWordBig:{    \n        color:\"#538ce5\",\n        fontSize: \"50px\",\n    },\n    iconPpt :  {\n        color:\"rgb(239, 99, 63)\",\n    },\n    iconPptBig:{    \n        color:\"rgb(239, 99, 63)\",\n        fontSize: \"50px\",\n    },\n    iconExcel :  {\n        color:\"#4caf50\",\n    },\n    iconExcelBig:{    \n        color:\"#4caf50\",\n        fontSize: \"50px\",\n    },\n    iconText :  {\n        color:\"#607d8b\",\n    },\n    iconTextBig:{    \n        color:\"#607d8b\",\n        fontSize: \"50px\",\n    },\n    iconFile :  {\n        color:\"#424242\",\n    },\n    iconFileBig:{    \n        color:\"#424242\",\n        fontSize: \"50px\",\n    },\n    iconTorrent :  {\n        color:\"#5c6bc0\",\n    },\n    iconTorrentBig:{    \n        color:\"#5c6bc0\",\n        fontSize: \"50px\",\n    },\n    iconZip :  {\n        color:\"#f9a825\",\n    },\n    iconZipBig:{    \n        color:\"#f9a825\",\n        fontSize: \"50px\",\n    },\n    iconAndroid :  {\n        color:\"#8bc34a\",\n    },\n    iconAndroidBig:{    \n        color:\"#8bc34a\",\n        fontSize: \"50px\",\n    },\n    iconExe :  {\n        color:\"#1a237e\",\n    },\n    iconExeBig:{    \n        color:\"#1a237e\",\n        fontSize: \"50px\",\n    },\n    hide:{\n        display:\"none\",\n    },\n    loadingAnimation:{\n        borderRadius: \"6px 6px 0 0\",\n    },\n    shareFix:{\n        marginLeft: \"20px\",\n    }\n})\n\nconst mapStateToProps = state => {\n    return {\n        path: state.navigator.path,\n        selected: state.explorer.selected,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n\n    }\n}\n\nclass FileIconCompoment extends Component {\n\n    static defaultProps = {\n        share: false,\n    }\n\n    state={\n        loading:false,\n    }\n\n    render() {\n\n        const { classes } = this.props;\n\n        const isSelected = (this.props.selected.findIndex((value) => {\n            return value === this.props.file;\n        })) !== -1;\n\n        let icon,iconBig;\n        let fileType =this.props.file.name.split(\".\").pop().toLowerCase();\n        if (mediaType[\"image\"].indexOf(fileType)!==-1){\n            icon = (<ImageIcon className={classes.iconImg}/>);\n            iconBig = (<ImageIcon className={classes.iconImgBig}/>);\n        }else if(mediaType[\"video\"].indexOf(fileType)!==-1){\n            icon = (<VideoIcon className={classes.iconVideo}/>);\n            iconBig = (<VideoIcon className={classes.iconVideoBig}/>); \n        }else if(mediaType[\"audio\"].indexOf(fileType)!==-1){\n            icon = (<AudioIcon className={classes.iconAudio}/>);\n            iconBig = (<AudioIcon className={classes.iconAudioBig}/>); \n        }else if(mediaType[\"pdf\"].indexOf(fileType)!==-1){\n            icon = (<PdfIcon className={classes.iconPdf}/>);\n            iconBig = (<PdfIcon className={classes.iconPdfBig}/>); \n        }else if(mediaType[\"word\"].indexOf(fileType)!==-1){\n            icon = (<FileWordBox className={classes.iconWord}/>);\n            iconBig = (<FileWordBox className={classes.iconWordBig}/>); \n        }else if(mediaType[\"ppt\"].indexOf(fileType)!==-1){\n            icon = (<FilePowerpointBox className={classes.iconPpt}/>);\n            iconBig = (<FilePowerpointBox className={classes.iconPptBig}/>); \n        }else if(mediaType[\"excel\"].indexOf(fileType)!==-1){\n            icon = (<FileExcelBox className={classes.iconExcel}/>);\n            iconBig = (<FileExcelBox className={classes.iconExcelBig}/>);  \n        }else if(mediaType[\"text\"].indexOf(fileType)!==-1){\n            icon = (<ScriptText className={classes.iconText}/>);\n            iconBig = (<ScriptText className={classes.iconTextBig}/>);  \n        }else if(mediaType[\"torrent\"].indexOf(fileType)!==-1){\n            icon = (<MagnetOn className={classes.iconTorrent}/>);\n            iconBig = (<MagnetOn className={classes.iconTorrentBig}/>);  \n        }else if(mediaType[\"zip\"].indexOf(fileType)!==-1){\n            icon = (<ZipBox className={classes.iconZip}/>);\n            iconBig = (<ZipBox className={classes.iconZipBig}/>);  \n        }else if(mediaType[\"excute\"].indexOf(fileType)!==-1){\n            icon = (<WindowRestore className={classes.iconExe}/>);\n            iconBig = (<WindowRestore className={classes.iconExeBig}/>);  \n        }else if(mediaType[\"android\"].indexOf(fileType)!==-1){\n            icon = (<Android className={classes.iconAndroid}/>);\n            iconBig = (<Android className={classes.iconAndroidBig}/>);  \n        }else{\n            icon = (<FileShowIcon className={classes.iconText}/>);\n            iconBig = (<FileShowIcon className={classes.iconTextBig}/>);  \n        }\n\n        return (\n            <div className={classes.container}>\n                <ButtonBase\n                    focusRipple\n                    className={classNames({\n                        [classes.selected]: isSelected,\n                        [classes.notSelected]: !isSelected,\n                    }, classes.button)}\n                >\n                {(this.props.file.pic!==\"\"&& this.props.file.pic!==\" \"&&allowSharePreview())&&\n                    <div className={classes.preview}> \n                    <LazyLoadImage\n                        className = {classNames({\n                            [classes.hide]:this.state.loading,\n                            [classes.picPreview]:!this.state.loading,\n                        })}\n                        src={window.apiURL.imgThumb+\"?isImg=true&path=\"+encodeURIComponent(this.props.file.path===\"/\"?this.props.file.path+this.props.file.name:this.props.file.path+\"/\"+this.props.file.name)}\n                        afterLoad = {()=>this.setState({loading:false})}\n                        beforeLoad = {()=>this.setState({loading:true})}\n                        />  \n                        <ContentLoader\n                        height={150}\n                        width={170}\n                        className = {classNames({\n                            [classes.hide]:!this.state.loading, \n                        },classes.loadingAnimation)}\n                        >\n                            <rect x=\"0\" y=\"0\" width=\"100%\" height=\"150\" />\n                        </ContentLoader>\n                        \n                         \n                \n                    </div>\n                }\n                {(this.props.file.pic===\"\"|| this.props.file.pic===\" \"||!allowSharePreview())&&\n                    <div className={classes.previewIcon}>\n                        {iconBig}\n                    </div>\n                   \n            } \n            {(this.props.file.pic===\"\"|| this.props.file.pic===\" \"||!allowSharePreview())&& <Divider/> }\n                    <div className={classes.fileInfo}>\n                        {!this.props.share&&<div className={classNames(classes.icon, {\n                            [classes.iconSelected]: isSelected,\n                            [classes.iconNotSelected]: !isSelected,\n                        })}>{icon}</div>}\n                        <Tooltip title={this.props.file.name} aria-label={this.props.file.name}>\n                            <Typography className={classNames(classes.folderName, {\n                                [classes.folderNameSelected]: isSelected,\n                                [classes.folderNameNotSelected]: !isSelected,\n                                [classes.shareFix]:this.props.share,\n                            })}>{this.props.file.name}</Typography>\n                        </Tooltip>\n                    </div>\n                </ButtonBase>\n \n            </div>\n        ); \n    }\n}\n\nFileIconCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    file: PropTypes.object.isRequired,\n};\n\n\nconst FileIcon = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(withStyles(styles)(FileIconCompoment))\n\nexport default FileIcon","export const imgPreviewSuffix = [\"bmp\",\"png\",\"gif\",\"jpg\",\"jpeg\",\"svg\",\"webp\"];\nexport const msDocPreviewSuffix = [\"ppt\",\"pptx\",\"pps\",\"doc\",\"docx\",\"xlsx\",\"xls\"];\nexport const audioPreviewSuffix = [\"mp3\",\"ogg\"];\nexport const videoPreviewSuffix = [\"mp4\",\"flv\",\"avi\",\"wmv\",\"mkv\",\"rm\",\"rmvb\",\"mov\",\"ogv\"];\nexport const directOpenPreviewSuffix = [\"pdf\"];\nexport const editSuffix = [\"md\",\"html\",\"sql\",\"go\",\"py\",\"js\",\"json\",\"c\",\"cpp\",\"css\",\"txt\"];\nexport const mediaType = {\n    audio:[\"mp3\",\"flac\",\"ape\",\"wav\",\"acc\",\"ogg\"],\n    video:[\"mp4\",\"flv\",\"avi\",\"wmv\",\"mkv\",\"rm\",\"rmvb\",\"mov\",\"ogv\"],\n    image:[\"bmp\",\"iff\",\"png\",\"gif\",\"jpg\",\"jpeg\",\"psd\",\"svg\",\"webp\"],\n    pdf:[\"pdf\"],\n    word:[\"doc\",\"docx\"],\n    ppt:[\"ppt\",\"pptx\"],\n    excel:[\"xls\",\"xlsx\",\"csv\"],\n    text:[\"txt\",\"md\",\"html\"],\n    torrent:[\"torrent\"],\n    zip:[\"zip\",\"gz\",\"tar\",\"rar\",\"7z\"],\n    excute:[\"exe\"],\n    android:[\"apk\"],\n};\nexport const isPreviewable = name=>{\n    let suffix = name.split(\".\").pop().toLowerCase();\n    if(imgPreviewSuffix.indexOf(suffix)!==-1){\n        return \"img\";\n    }else if(msDocPreviewSuffix.indexOf(suffix)!==-1){\n        return \"msDoc\";\n    }else if(audioPreviewSuffix.indexOf(suffix)!==-1){\n        return \"audio\";\n    }else if(directOpenPreviewSuffix.indexOf(suffix)!==-1){\n        return \"open\";\n    }else if(videoPreviewSuffix.indexOf(suffix)!==-1){\n        return \"video\";\n    }else if(editSuffix.indexOf(suffix)!==-1){\n        return \"edit\";\n    }\n    return false;\n}\nexport const isTorrent = name=>{\n    let suffix = name.split(\".\").pop().toLowerCase();\n    if(mediaType.torrent.indexOf(suffix)!==-1){\n        return true;\n    }\n    return false;\n}\n","export const navitateTo = path => {\n    return {\n        type: 'NAVIGATOR_TO',\n        path:path,\n    }\n}\n\nexport const navitateUp = () => {\n    return {\n        type: 'NAVIGATOR_UP',\n    }\n}\n\nexport const drawerToggleAction = open => {\n    return {\n        type: 'DRAWER_TOGGLE',\n        open:open,\n    }\n}\n\nexport const changeViewMethod = method => {\n    return {\n        type: 'CHANGE_VIEW_METHOD',\n        method:method,\n    }\n}\n\nexport const changeSortMethod = method => {\n    return {\n        type: 'CHANGE_SORT_METHOD',\n        method:method,\n    }\n}\n\nexport const updateFileList = list => {\n    return {\n        type: 'UPDATE_FILE_LIST',\n        list:list,\n    }\n}\n\nexport const changeContextMenu = (type,open) => {\n    return {\n        type: 'CHANGE_CONTEXT_MENU',\n        menuType:type,\n        open:open,\n    }\n}\n\nexport const addSelectedTarget = targets => {\n    return {\n        type: 'ADD_SELECTED_TARGET',\n        targets:targets,\n    }\n}\n\nexport const setSelectedTarget = targets => {\n    return {\n        type: 'SET_SELECTED_TARGET',\n        targets:targets,\n    }\n}\n\nexport const removeSelectedTarget = id => {\n    return {\n        type: 'RMOVE_SELECTED_TARGET',\n        id:id,\n    }\n}\n\nexport const setNavigatorLoadingStatus = status => {\n    return {\n        type: 'SET_NAVIGATOR_LOADING_STATUE',\n        status:status,\n    }\n}\n\nexport const setNavigatorError = (status,msg) => {\n    return {\n        type: 'SET_NAVIGATOR_ERROR',\n        status:status,\n        msg:msg,\n    }\n}\n\nexport const openCreateFolderDialog = () => {\n    return {\n        type: 'OPEN_CREATE_FOLDER_DIALOG',\n    }\n}\n\nexport const openRenameDialog = () => {\n    return {\n        type: 'OPEN_RENAME_DIALOG',\n    }\n}\n\nexport const openMoveDialog = () => {\n    return {\n        type: 'OPEN_MOVE_DIALOG',\n    }\n}\n\nexport const openRemoveDialog = () => {\n    return {\n        type: 'OPEN_REMOVE_DIALOG',\n    }\n}\n\nexport const openShareDialog = () => {\n    return {\n        type: 'OPEN_SHARE_DIALOG',\n    }\n}\n\nexport const openMusicDialog = () => {\n    return {\n        type: 'OPEN_MUSIC_DIALOG',\n    }\n}\n\nexport const openRemoteDownloadDialog = ()=>{\n    return {\n        type:'OPEN_REMOTE_DOWNLOAD_DIALOG',\n    }\n}\n\nexport const openTorrentDownloadDialog = ()=>{\n    return {\n        type:'OPEN_TORRENT_DOWNLOAD_DIALOG',\n    }\n}\n\nexport const openGetSourceDialog = ()=>{\n    return {\n        type:'OPEN_GET_SOURCE_DIALOG',\n    }\n}\n\nexport const closeAllModals = () => {\n    return {\n        type: 'CLOSE_ALL_MODALS',\n    }\n}\n\nexport const toggleSnackbar = (vertical,horizontal,msg,color) => {\n    return {\n        type: 'TOGGLE_SNACKBAR',\n        vertical:vertical,\n        horizontal:horizontal,\n        msg:msg,\n        color:color,\n    }\n}\n\nexport const setModalsLoading = (status) => {\n    return {\n        type: 'SET_MODALS_LOADING',\n        status:status,\n    }\n}\n\nexport const refreshFileList = () => {\n    return {\n        type: 'REFRESH_FILE_LIST',\n    }\n}\n\nexport const searchMyFile = (keywords) => {\n    return {\n        type: 'SEARCH_MY_FILE',\n        keywords: keywords,\n    }\n}\n\nexport const showImgPreivew = (first) => {\n    return {\n        type: 'SHOW_IMG_PREIVEW',\n        first: first,\n    }\n}\n\nexport const refreshStorage = () => {\n    return {\n        type: 'REFRESH_STORAGE',\n    }\n}\n\nexport const saveFile = () => {\n    return {\n        type: 'SAVE_FILE',\n    }\n}","export const sizeToString = (bytes) => {\n    if (bytes === 0) return '0 B';\n    var k = 1024;\n    var sizes = ['B','KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n    var i = Math.floor(Math.log(bytes) / Math.log(k));\n    return (bytes / Math.pow(k, i)).toFixed(1) + ' ' + sizes[i]; \n}\n\nexport const setCookie = (name,value,days)=>{\n    if (days) {\n        var date = new Date();\n        date.setTime(date.getTime() + (days*24*60*60*1000));\n    }\n    document.cookie = name + \"=\" + (value || \"\") +\"; path=/\"; \n}\n\nexport const setGetParameter = (paramName, paramValue) =>{\n    var url = window.location.href;\n    var hash = window.location.hash;\n    url = url.replace(hash, '');\n    if (url.indexOf(paramName + \"=\") >= 0)\n    {\n        var prefix = url.substring(0, url.indexOf(paramName));\n        var suffix = url.substring(url.indexOf(paramName));\n        suffix = suffix.substring(suffix.indexOf(\"=\") + 1);\n        suffix = (suffix.indexOf(\"&\") >= 0) ? suffix.substring(suffix.indexOf(\"&\")) : \"\";\n        url = prefix + paramName + \"=\" + paramValue + suffix;\n    }\n    else\n    {\n    if (url.indexOf(\"?\") < 0)\n        url += \"?\" + paramName + \"=\" + paramValue;\n    else\n        url += \"&\" + paramName + \"=\" + paramValue;\n    }\n    if(url===window.location.href){\n        return;\n    }\n    window.history.pushState(null, null, url);\n}\n\nexport const allowSharePreview=()=>{\n    if(!window.isSharePage){\n        return true;\n    }\n    if(window.isSharePage){\n        if(window.shareInfo.allowPreview){\n            return true;\n        }\n        if(window.userInfo.uid===-1){\n            return false;\n        }\n        return true;\n    }\n}\n\nexport const checkGetParameters= field=>{\n    var url = window.location.href;\n    if(url.indexOf('?' + field + '=') !== -1)\n        return true;\n    else if(url.indexOf('&' + field + '=') !== -1)\n        return true;\n    return false\n}\n\nexport const changeThemeColor = color=>{\n    var metaThemeColor = window.document.querySelector(\"meta[name=theme-color]\");\n    metaThemeColor.setAttribute(\"content\", color);\n}","import React, { Component } from 'react'\nimport { withStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux'\nimport FileIcon from \"../component/FileManager/FileIcon\"\nimport PreviewIcon from \"@material-ui/icons/RemoveRedEye\"\nimport InfoIcon from \"@material-ui/icons/Info\"\nimport DownloadIcon from \"@material-ui/icons/CloudDownload\"\nimport Button from '@material-ui/core/Button';\nimport {allowSharePreview,sizeToString} from \"../untils/index\"\nimport { toggleSnackbar,}from \"../actions/index\"\nimport { isPreviewable,}from \"../config\"\nimport Popper from '@material-ui/core/Popper';\nimport Typography from '@material-ui/core/Typography';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\nimport axios from 'axios'\nconst styles = theme => ({\n    layout: {\n        width: 'auto',\n        marginTop:'110px',\n        marginLeft: theme.spacing.unit * 3,\n        marginRight: theme.spacing.unit * 3,\n        [theme.breakpoints.up(1100 + theme.spacing.unit * 3 * 2)]: {\n          width: 1100,\n          marginLeft: 'auto',\n          marginRight: 'auto',\n        },\n      },\n      player:{\n        borderRadius: \"4px\", \n      },\n      fileCotainer:{\n          width:\"200px\",\n          margin:\"0 auto\",\n      },\n      buttonCotainer:{\n        width:\"400px\",\n        margin:\"0 auto\",\n        textAlign: \"center\",\n        marginTop: \"20px\",\n      },\n      button: {\n        margin: theme.spacing.unit,\n      },\n      paper: {\n        padding: theme.spacing.unit * 2,\n      },\n      icon:{\n        marginRight: theme.spacing.unit,\n      }\n})\nconst mapStateToProps = state => {\n    return {\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleSnackbar:(vertical,horizontal,msg,color)=>{\n            dispatch(toggleSnackbar(vertical,horizontal,msg,color))\n        },\n    }\n}\n\nconst allowDownload = allowSharePreview();\n\nclass SharedFileCompoment extends Component {\n\n    state = {\n        anchorEl: null,\n        open: false,\n      };\n\n    preview = ()=>{\n        if(!allowDownload){\n            this.props.toggleSnackbar(\"top\",\"right\",\"未登录用户无法下载\",\"warning\");\n            return;\n        }\n        switch(isPreviewable(window.shareInfo.fileName)){\n            case 'img':\n                window.open(window.apiURL.preview);\n                return;\n            case 'msDoc':\n                window.open(window.apiURL.docPreiview);  \n                return;\n            case 'audio':\n                //this.props.openMusicDialog();\n                return;\n            case 'open':\n                window.open(window.apiURL.preview);  \n                return;\n            case 'video':\n                window.location.href=(\"/Viewer/Video?single=true&shareKey=\"+window.shareInfo.shareId+\"&path=/\"+window.shareInfo.fileName);  \n                return ;\n            case 'edit':\n                window.location.href=(\"/Viewer/Markdown?single=true&shareKey=\"+window.shareInfo.shareId+\"&path=/\"+window.shareInfo.fileName);  \n                return;\n            default:\n            this.props.toggleSnackbar(\"top\",\"right\",\"此文件无法预览\",\"warning\");\n                return;\n        }\n    }\n\n    download = ()=>{\n        if(!allowDownload){\n            this.props.toggleSnackbar(\"top\",\"right\",\"未登录用户无法下载\",\"warning\");\n            return;\n        }\n        axios.post(\"/Share/getDownloadUrl\",{\n            key: window.shareInfo.shareId\n        })\n        .then( (response)=> {\n            if(response.data.error!==0){\n                this.props.toggleSnackbar(\"top\",\"right\",response.data.msg ,\"warning\");\n            }else{\n                window.location.href=response.data.result;\n            }\n            \n        })\n        .catch((error) =>{\n            this.props.toggleSnackbar(\"top\",\"right\",error.message ,\"error\");\n        });\n    }\n\n    handleOpen = event => {\n        const { currentTarget } = event;\n        this.setState(state => ({\n          anchorEl: currentTarget,\n          open: !state.open,\n        }));\n    };\n\n    render() {\n        const { classes } = this.props;\n        const file={\n            name:window.shareInfo.fileName,\n            path:\"/\",\n            type:\"file\",\n            pic:\"\",\n        };\n        const id = this.state.open ? 'simple-popper' : null;\n\n        return (\n             <div className={classes.layout}>\n                <div className={classes.fileCotainer}>\n                   <FileIcon file={file} share={true}/></div>\n                <div className={classes.buttonCotainer}>\n                <Button variant=\"contained\" color=\"secondary\" className={classes.button} onClick={this.download}>\n                    <DownloadIcon className={classes.icon}/> 下载 ({sizeToString(window.shareInfo.fileSize)})\n                </Button> \n                <Button variant=\"outlined\" className={classes.button} onClick={this.preview}>\n                    <PreviewIcon className={classes.icon}/> 预览\n                </Button>\n                <Button variant=\"outlined\" className={classes.button} onClick={this.handleOpen}>\n                    <InfoIcon className={classes.icon}/> 信息\n                </Button>\n               <Popper id={id} open={this.state.open} anchorEl={this.state.anchorEl} transition>\n                {({ TransitionProps }) => (\n                    <Fade {...TransitionProps} timeout={350}>\n                    <Paper className={classes.paper}>\n                        <Typography >此分享被浏览{window.shareInfo.ViewNum}次，被下载{window.shareInfo.downloadNum}次</Typography>\n                    </Paper>\n                    </Fade>\n                )}\n                </Popper>\n                </div>\n             </div>\n        );\n    }\n\n}\n\nconst SharedFile = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)( withStyles(styles)(SharedFileCompoment))\n  \nexport default SharedFile\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { withStyles } from '@material-ui/core/styles';\nimport Navbar from \"../component/Navbar.js\"\nimport AlertBar from \"../component/Snackbar\"\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport SharedFile from '../component/SharedFile'\nconst theme = createMuiTheme(window.colorTheme);\nconst styles = theme => ({\n\n\troot: {\n\t\tdisplay: 'flex',\n\t},\n\tcontent: {\n\t\tflexGrow: 1,\n\t\tpadding: theme.spacing.unit * 0,\n\t\tminWidth: 0,\n\t},\n\ttoolbar: theme.mixins.toolbar,\n});\n\nclass FileShareApp extends Component {\n\n\trender() {\n\t\tconst { classes } = this.props;\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<MuiThemeProvider theme={theme}>\n\t\t\t\t\t<div className={classes.root} id=\"container\">\n\t\t\t\t\t\t<CssBaseline />\n\t\t\t\t\t\t<AlertBar/>\n\t\t\t\t\t\t<Navbar />\n\t\t\t\t\t\t<main className={classes.content}>\n\t\t\t\t\t\t\t<div className={classes.toolbar} />\n\t\t\t\t\t\t\t<SharedFile/>\n\t\t\t\t\t\t</main>\n\t\t\t\t\t</div></MuiThemeProvider>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nFileShareApp.propTypes = {\n\tclasses: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(FileShareApp);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Provider } from 'react-redux'\nimport { createStore } from 'redux'\nimport FileShareApp from \"./fileShare.app\"\nimport cloureveApp from '../reducers'\n\nconst defaultStatus = {\n    navigator:{\n        path:window.path,\n        refresh:true,\n    },\n    viewUpdate:{\n        open:window.isHomePage,\n        explorerViewMethod: \"icon\",\n        sortMethod:\"timePos\",\n        contextType:\"none\",  \n        menuOpen:false,\n        navigatorLoading:true,\n        navigatorError:false,\n        navigatorErrorMsg:null,\n        modalsLoading:false,\n        storageRefresh:false,\n        modals:{\n            createNewFolder:false,\n            rename:false,\n            move:false,\n            remove:false,\n            share:false,\n            music:false,\n            remoteDownload:false,\n            torrentDownload:false,\n        },\n        snackbar:{\n            toggle:false,\n            vertical:\"top\",\n            horizontal:\"center\",\n            msg:\"\",\n            color:\"\",\n        }\n    },\n    explorer:{\n        fileList:[],\n        dirList:[\n        ],\n        selected:[],\n        selectProps:{\n            isMultiple:false,\n            withFolder:false,\n            withFile:false,\n        },\n        imgPreview:{\n            first:null,\n            other:[],\n        },\n        keywords:null,\n    }\n};\n\nlet store = createStore(cloureveApp,defaultStatus)\nReactDOM.render(\n    <Provider store={store}>\n        <FileShareApp/>\n    </Provider>\n, document.getElementById('root'));\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\nimport { withTheme } from '@material-ui/core/styles';\nimport classNames from 'classnames';\nimport { connect } from 'react-redux'\nimport VideoIcon from '@material-ui/icons/VideoLibrary';\nimport MusicIcon from '@material-ui/icons/LibraryMusic';\nimport ImageIcon from '@material-ui/icons/Collections';\nimport AddIcon from '@material-ui/icons/Add';\nimport DocIcon from '@material-ui/icons/FileCopy';\nimport ShareIcon from '@material-ui/icons/Share';\nimport BackIcon from '@material-ui/icons/ArrowBack';\nimport OpenIcon from '@material-ui/icons/OpenInNew'\nimport DownloadIcon from '@material-ui/icons/CloudDownload'\nimport OpenFolderIcon from '@material-ui/icons/FolderOpen'\nimport RenameIcon from '@material-ui/icons/BorderColor'\nimport MoveIcon from '@material-ui/icons/Input'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport Button from '@material-ui/core/Button';\nimport Drawer from '@material-ui/core/Drawer';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer'\nimport IconButton from '@material-ui/core/IconButton';\nimport Hidden from '@material-ui/core/Hidden';\nimport Avatar from '@material-ui/core/Avatar';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport UploadIcon from '@material-ui/icons/CloudUpload';\nimport FolderShared from '@material-ui/icons/FolderShared';\nimport SaveIcon from '@material-ui/icons/Save';\nimport List from '@material-ui/core/List';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Badge from '@material-ui/core/Badge';\nimport Grow from '@material-ui/core/Grow';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport {isPreviewable} from \"../config\"\nimport {\n    drawerToggleAction,\n    setSelectedTarget,\n    navitateTo,\n    openCreateFolderDialog,\n    changeContextMenu,\n    searchMyFile,\n    saveFile,\n    openMusicDialog,\n    showImgPreivew,\n    toggleSnackbar,\n    openMoveDialog,\n    openRemoveDialog,\n    openShareDialog,\n    openRenameDialog,\n} from \"../actions/index\"\nimport {allowSharePreview,checkGetParameters,changeThemeColor} from \"../untils/index\"\nimport Uploader from \"./Uploader.js\"\nimport {sizeToString} from \"../untils/index\"\nimport SezrchBar from \"./SearchBar\"\nimport StorageBar from \"./StorageBar\"\nimport UserAvatar from \"./UserAvatar\"\nimport UserInfo from \"./UserInfo\"\nimport {\n    AccountArrowRight,\n    AccountPlus\n} from 'mdi-material-ui'\nconst drawerWidth = 240;\nconst drawerWidthMobile = 270;\n\nconst mapStateToProps = state => {\n    return {\n        desktopOpen: state.viewUpdate.open,\n        selected:state.explorer.selected,\n        isMultiple:state.explorer.selectProps.isMultiple,\n        withFolder:state.explorer.selectProps.withFolder,\n        withFile:state.explorer.selectProps.withFile,\n        path:state.navigator.path, \n        keywords:state.explorer.keywords,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        handleDesktopToggle: open => {\n            dispatch(drawerToggleAction(open))\n        },\n        setSelectedTarget:targets=>{\n            dispatch(setSelectedTarget(targets))\n        },\n        navitateTo:path => {\n            dispatch(navitateTo(path))\n        },\n        openCreateFolderDialog:()=>{\n            dispatch(openCreateFolderDialog())\n        },\n        changeContextMenu:(type,open)=>{\n            dispatch(changeContextMenu(type,open))\n        },\n        searchMyFile:(keywords)=>{\n            dispatch(searchMyFile(keywords));\n        },\n        saveFile:()=>{\n            dispatch(saveFile())\n        },\n        openMusicDialog:()=>{\n            dispatch(openMusicDialog())\n        },\n        showImgPreivew:(first)=>{\n            dispatch(showImgPreivew(first))\n        },\n        toggleSnackbar:(vertical,horizontal,msg,color)=>{\n            dispatch(toggleSnackbar(vertical,horizontal,msg,color))\n        },\n        openRenameDialog:()=>{\n            dispatch(openRenameDialog())\n        },\n        openMoveDialog:()=>{\n            dispatch(openMoveDialog())\n        },\n        openRemoveDialog:()=>{\n            dispatch(openRemoveDialog())\n        },\n        openShareDialog:()=>{\n            dispatch(openShareDialog())\n        },\n    }\n}\n\nconst styles = theme => ({\n    appBar: {\n        marginLeft: drawerWidth,\n        [theme.breakpoints.down('xs')]: {\n            marginLeft: drawerWidthMobile,\n        },\n        zIndex: theme.zIndex.drawer + 1,\n        transition:\" background-color 250ms\" ,\n    },\n\n    drawer: {\n            width: 0,\n            flexShrink: 0,\n    },\n    drawerDesktop:{\n        width: drawerWidth,\n        flexShrink: 0,\n    },\n    icon: {\n        marginRight: theme.spacing.unit * 2,\n    },\n    menuButton: {\n        marginRight: 20,\n        [theme.breakpoints.up('sm')]: {\n            display: 'none',\n        },\n    },\n    menuButtonDesktop:{\n        marginRight: 20,\n        [theme.breakpoints.down('sm')]: {\n            display: 'none',\n        },\n    },\n    menuIcon:{\n        marginRight: 20,\n    },\n    toolbar: theme.mixins.toolbar,\n    drawerPaper:{\n        width:drawerWidthMobile,\n    },\n    drawerOpen: {\n        width: drawerWidth,\n        transition: theme.transitions.create('width', {\n          easing: theme.transitions.easing.sharp,\n          duration: theme.transitions.duration.enteringScreen,\n        }),\n      },\n      drawerClose: {\n        transition: theme.transitions.create('width', {\n          easing: theme.transitions.easing.sharp,\n          duration: theme.transitions.duration.leavingScreen,\n        }),\n        overflowX: 'hidden',\n        width: 0,\n    \n      },\n    content: {\n        flexGrow: 1,\n        padding: theme.spacing.unit * 3,\n    },\n    hiddenButton: {\n        display: \"none\",\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    badge: {\n        top: 1,\n        right:-15,\n\n    },\n    nested: {\n        paddingLeft: theme.spacing.unit * 4,\n    },\n      sectionForFile:{\n\n\n            display: 'flex',\n\n      },\n    extendedIcon: {\n        marginRight: theme.spacing.unit,\n    },\n    addButton:{\n        marginLeft: \"40px\",\n        marginTop: \"25px\",\n        marginBottom: \"15px\",\n    },\n    fabButton:{\n        borderRadius:\"100px\",\n    },\n    badgeFix:{\n        right:\"10px\",\n    },\n    iconFix:{\n        marginLeft: \"16px\",\n    },\n    dividerFix:{\n        marginTop: \"8px\",\n    },\n    folderShareIcon:{\n        verticalAlign: \"sub\",\n        marginRight: \"5px\",\n    },\n    shareInfoContainer:{\n        display:\"flex\",\n        marginTop: \"15px\",\n        marginBottom: \"20px\",\n        marginLeft: \"28px\",\n        textDecoration:\"none\",\n    },\n    shareAvatar:{\n        width:\"40px\",\n        height:\"40px\",\n    },\n    stickFooter:{\n        bottom: \"0px\",\n        position: \"absolute\",\n        backgroundColor:theme.palette.background.paper,\n        width: \"100%\",\n    },\n    ownerInfo:{\n        marginLeft: \"10px\",\n        width: \"150px\",\n    }\n});\nclass NavbarCompoment extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            mobileOpen: false,\n            queued: 0,\n        };\n        this.UploaderRef = React.createRef();\n    }\n\n    componentDidMount=()=>{\n        changeThemeColor((this.props.selected.length <=1 && ! (!this.props.isMultiple&&this.props.withFile))?this.props.theme.palette.primary.main:this.props.theme.palette.background.default);\n    }\n\n    componentWillReceiveProps = (nextProps)=>{\n        if((this.props.selected.length <=1 && ! (!this.props.isMultiple&&this.props.withFile))!==(nextProps.selected.length <=1 && ! (!nextProps.isMultiple&&nextProps.withFile))){\n            changeThemeColor(!(this.props.selected.length <=1 && ! (!this.props.isMultiple&&this.props.withFile))?this.props.theme.palette.primary.main:this.props.theme.palette.background.default);\n        }\n    }\n\n    handleDrawerToggle = () => {\n        this.setState(state => ({ mobileOpen: !state.mobileOpen }));\n    };\n\n    clickUpload = () => {\n        if (this.state.queued === 0) {\n            //document.getElementsByClassName(\"uploadForm\")[0].click();\n            this.props.changeContextMenu(\"empty\",true);\n        } else {\n            this.UploaderRef.current.getWrappedInstance().openFileList();\n        }\n    }\n\n    updateQueueStatus = (queued) => {\n        this.setState({ queued: queued });\n    }\n\n    loadUploader() {\n        if (window.isHomePage) {\n            return (<Uploader queueChange={queued => this.updateQueueStatus(queued)} ref={this.UploaderRef} />)\n        }\n    }\n\n    filterFile = (type)=>{\n        this.props.searchMyFile(\"{filterType:\"+type+\"}\")\n    }\n\n    openPreview = ()=>{\n        if(!allowSharePreview()){\n            this.props.toggleSnackbar(\"top\",\"right\",\"未登录用户无法预览\",\"warning\");\n            return;\n        }\n        this.props.changeContextMenu(\"file\",false);\n        let previewPath = this.props.selected[0].path === \"/\" ? this.props.selected[0].path+this.props.selected[0].name:this.props.selected[0].path+\"/\"+this.props.selected[0].name;\n        switch(isPreviewable(this.props.selected[0].name)){\n            case 'img':\n                this.props.showImgPreivew(this.props.selected[0]);\n                return;\n            case 'msDoc':\n                window.open(window.apiURL.docPreiview+\"/?path=\"+encodeURIComponent(previewPath));  \n                return;\n            case 'audio':\n                this.props.openMusicDialog();\n                return;\n            case 'open':\n                window.open(window.apiURL.preview+\"/?action=preview&path=\"+encodeURIComponent(previewPath));  \n                return;\n            case 'video':\n                if(window.isSharePage){\n                    window.location.href=(\"/Viewer/Video?share=true&shareKey=\"+window.shareInfo.shareId+\"&path=\"+encodeURIComponent(previewPath));  \n                    return;\n                }\n                window.location.href=(\"/Viewer/Video?path=\"+encodeURIComponent(previewPath));  \n                return;\n            case 'edit':\n                if(window.isSharePage){\n                    window.location.href=(\"/Viewer/Markdown?share=true&shareKey=\"+window.shareInfo.shareId+\"&path=\"+encodeURIComponent(previewPath));  \n                    return;\n                }\n                window.location.href=(\"/Viewer/Markdown?path=\"+encodeURIComponent(previewPath));  \n                return;\n            default:\n                return;\n        }\n    }\n\n    openDownload = ()=>{\n        if(!allowSharePreview()){\n            this.props.toggleSnackbar(\"top\",\"right\",\"未登录用户无法预览\",\"warning\");\n            return;\n        }\n        let downloadPath = this.props.selected[0].path === \"/\" ? this.props.selected[0].path+this.props.selected[0].name:this.props.selected[0].path+\"/\"+this.props.selected[0].name;\n        window.open(window.apiURL.download+\"?action=download&path=\"+encodeURIComponent(downloadPath));\n    }\n\n    render() {\n        const { classes } = this.props;\n\n        const drawer = (\n            <div id=\"container\">\n                {window.isMobile&&\n                    <UserInfo/>\n                }\n                {window.isHomePage&&\n                     <div className={classes.addButton}>\n                     <Badge badgeContent={this.state.queued} classes={{ badge: classes.badgeFix }} invisible={this.state.queued === 0} color=\"secondary\">\n                         <Button\n                          disabled={this.props.keywords!==null}\n                          variant=\"outlined\"\n                          size=\"large\"\n                          color=\"primary\" \n                          onClick = {this.clickUpload}\n                          className={classes.fabButton}\n                          >\n                             <AddIcon className={classes.extendedIcon} /> 新建项目\n                             \n                                  \n                         </Button>\n                           </Badge>\n                           </div>\n                }\n                {(!window.isHomePage&&(window.userInfo.uid!==-1))&&\n                <div>\n                    <ListItem button key=\"我的文件\" onClick={()=>window.location.href=\"/\"}>\n                    <ListItemIcon>     \n                            <FolderShared className={classes.iconFix}/>\n                    </ListItemIcon>\n                    <ListItemText primary=\"我的文件\" />\n                    </ListItem>\n                </div>\n                }\n\n                {window.isHomePage&&<div>\n                    <List> \n                    <Divider/>\n                    <ListItem button id=\"pickfiles\" className={classes.hiddenButton}>\n                        <ListItemIcon><UploadIcon /></ListItemIcon>\n                        <ListItemText />\n                    </ListItem>\n                </List>\n                <ListItem button key=\"视频\" onClick={()=>this.filterFile(\"video\")}>\n                    <ListItemIcon>     \n                            <VideoIcon className={[classes.iconFix,classes.iconVideo]}/>\n                    </ListItemIcon>\n                    <ListItemText primary=\"视频\" />\n                </ListItem>\n\n                <ListItem button key=\"图片\" onClick={()=>this.filterFile(\"image\")}>\n                    <ListItemIcon>      \n                        <ImageIcon className={[classes.iconFix,classes.iconImg]} />\n                    </ListItemIcon>\n                    <ListItemText primary=\"图片\" />\n                </ListItem>\n\n                <ListItem button key=\"音频\" onClick={()=>this.filterFile(\"audio\")}>\n                    <ListItemIcon>\n                            <MusicIcon className={[classes.iconFix,classes.iconAudio]} />\n                    </ListItemIcon>\n                    <ListItemText primary=\"音频\" />\n                </ListItem>\n\n                <ListItem button key=\"文档\" onClick={()=>this.filterFile(\"doc\")}>\n                    <ListItemIcon>\n                            <DocIcon className={[classes.iconFix,classes.iconDoc]} />\n                    </ListItemIcon>\n                    <ListItemText primary=\"文档\" />\n                </ListItem> <Divider className={classes.dividerFix}/></div>}\n\n                {window.userInfo.uid!==-1&&<div>\n                    <ListItem button key=\"我的分享\"  onClick={()=>window.location.href=\"/Share/My\"}>\n                        <ListItemIcon>\n                                <ShareIcon className={classes.iconFix} />\n                        </ListItemIcon>\n                        <ListItemText inset primary=\"我的分享\" />\n                    </ListItem>\n                    <ListItem button key=\"离线下载\"  onClick={()=>window.location.href=\"/Home/Download\"}>\n                        <ListItemIcon>\n                                <DownloadIcon className={classes.iconFix} />\n                        </ListItemIcon>\n                        <ListItemText inset primary=\"离线下载\" />\n                    </ListItem>\n                {!window.isSharePage&&\n                    <div>\n                        <StorageBar></StorageBar>\n                        </div>\n                }\n                \n                    </div>\n                }\n                {window.userInfo.uid===-1&&\n                <div>\n                    <ListItem button key=\"登录\" onClick={()=>window.location.href=\"/Login\"}>\n                        <ListItemIcon>\n                                <AccountArrowRight className={classes.iconFix} />\n                        </ListItemIcon>\n                        <ListItemText primary=\"登录\" />\n                    </ListItem>\n                    <ListItem button key=\"注册\" onClick={()=>window.location.href=\"/Signup\"}>\n                    <ListItemIcon>\n                            <AccountPlus className={classes.iconFix} />\n                    </ListItemIcon>\n                    <ListItemText primary=\"注册\" />\n                </ListItem>\n                </div>\n                }\n                {window.isSharePage&&\n                    <div className={classes.stickFooter}>\n                        <Divider/>\n                        <a className={classes.shareInfoContainer} href={\"/Profile/\"+window.shareInfo.ownerUid}>\n                            <Avatar src={\"/Member/Avatar/\"+window.shareInfo.ownerUid+\"/l\"} className={classes.shareAvatar}/><div className={classes.ownerInfo}>\n                            <Typography noWrap>{window.shareInfo.ownerNick}</Typography>\n                            <Typography noWrap variant=\"caption\" color=\"textSecondary\">分享于{window.shareInfo.shareDate }</Typography>\n                        </div>\n                        </a>\n                        \n                    </div>}\n                 \n                \n                \n                </div>\n        );\n        const iOS = process.browser && /iPad|iPhone|iPod/.test(navigator.userAgent);\n        return (\n            <div>\n                <AppBar position=\"fixed\" className={classes.appBar} color={(this.props.selected.length <=1 && ! (!this.props.isMultiple&&this.props.withFile))?\"primary\":\"default\"}> \n                    <Toolbar>\n                    {(((this.props.selected.length <=1 && !(!this.props.isMultiple&&this.props.withFile))||!window.isHomePage)&&!window.isSharePage)&&\n                        <IconButton\n                            color=\"inherit\"\n                            aria-label=\"Open drawer\"\n                            onClick={this.handleDrawerToggle}\n                            className={classes.menuButton}\n                        >\n                            <MenuIcon />\n                        </IconButton>\n                    }\n                        {(((this.props.selected.length <=1 && !(!this.props.isMultiple&&this.props.withFile))||!window.isHomePage)&&!window.isSharePage)&&<IconButton\n                            color=\"inherit\"\n                            aria-label=\"Open drawer\"\n                            onClick={()=>this.props.handleDesktopToggle(!this.props.desktopOpen)}\n                            className={classes.menuButtonDesktop}\n                        >\n                            <MenuIcon />\n                        </IconButton>}\n                        {((this.props.selected.length >1 || (!this.props.isMultiple&&this.props.withFile) )&& (window.isHomePage||window.isSharePage))&&\n                            <Grow in={(this.props.selected.length >1) || (!this.props.isMultiple&&this.props.withFile)}>\n                                <IconButton\n                                    color=\"inherit\"\n                                    className={classes.menuIcon}\n                                    onClick = {()=>this.props.setSelectedTarget([])}\n                                >\n                                    <BackIcon />\n                                </IconButton>\n                            </Grow>\n                        }\n                        {(this.props.selected.length <=1 && !(!this.props.isMultiple&&this.props.withFile))&&\n                        <Typography variant=\"h6\" color=\"inherit\" noWrap>\n                            {window.isSharePage&&window.pageId===\"\"&&<FolderShared className={classes.folderShareIcon}/>}{window.siteInfo.mainTitle}\n        \t\t\t\t</Typography>\n                        }\n\n                        {(!this.props.isMultiple&&this.props.withFile&&!window.isMobile)&&\n                        <Typography variant=\"h6\" color=\"inherit\" noWrap>\n                            {this.props.selected[0].name} {(window.isHomePage||window.isSharePage)&&\"(\"+sizeToString(this.props.selected[0].size)+\")\"} \n        \t\t\t\t</Typography>\n                        }\n\n                        {(this.props.selected.length >1&&!window.isMobile)&&\n                        <Typography variant=\"h6\" color=\"inherit\" noWrap>\n                            {this.props.selected.length}个对象\n        \t\t\t\t</Typography>\n                        }\n                        {(this.props.selected.length <=1 && !(!this.props.isMultiple&&this.props.withFile))&&\n                            <SezrchBar/>\n                        }\n                        <div className={classes.grow} />\n                        {((this.props.selected.length>1 || (!this.props.isMultiple&&this.props.withFile)) && !window.isHomePage&&!window.isSharePage && window.userInfo.uid!==-1&&!checkGetParameters(\"share\"))&&\n                            <div className={classes.sectionForFile}>\n                                <Tooltip title=\"保存\">\n                                    <IconButton color=\"inherit\" onClick={()=>this.props.saveFile()}>\n                                        <SaveIcon/>\n                                    </IconButton>\n                                </Tooltip>\n                            </div>\n                        }\n                        {((this.props.selected.length>1 || (!this.props.isMultiple&&this.props.withFile) )&& (window.isHomePage||window.isSharePage))&&\n                            <div className={classes.sectionForFile}>\n                                {(!this.props.isMultiple&&this.props.withFile&&isPreviewable(this.props.selected[0].name))&&\n                                    <Grow in={(!this.props.isMultiple&&this.props.withFile&&isPreviewable(this.props.selected[0].name))}>\n                                        <Tooltip title=\"打开\">\n                                            <IconButton color=\"inherit\"\n                                            onClick = {()=>this.openPreview()}\n                                            >\n                                                <OpenIcon/>\n                                            </IconButton> \n                                        </Tooltip>\n                                    </Grow>\n                                }\n                                {(!this.props.isMultiple&&this.props.withFile)&&\n                                    <Grow in={(!this.props.isMultiple&&this.props.withFile)}>\n                                        <Tooltip title=\"下载\">\n                                            <IconButton color=\"inherit\"\n                                            onClick = {()=>this.openDownload()}\n                                            >\n                                                <DownloadIcon/>\n                                            </IconButton> \n                                        </Tooltip>\n                                    </Grow>\n                                }\n                                {(!this.props.isMultiple && this.props.withFolder)&&\n                                    <Grow in={(!this.props.isMultiple && this.props.withFolder)}>\n                                        <Tooltip title=\"进入目录\">\n                                            <IconButton color=\"inherit\"\n                                                onClick = {()=>this.props.navitateTo(this.props.path===\"/\"?this.props.path+this.props.selected[0].name:this.props.path+\"/\"+this.props.selected[0].name) }\n                                            >\n                                                <OpenFolderIcon/>\n                                            </IconButton> \n                                        </Tooltip>\n                                    </Grow>\n                                }\n                                {(!this.props.isMultiple&&!window.isSharePage)&&\n                                    <Grow in={(!this.props.isMultiple)}>\n                                        <Tooltip title=\"分享\">\n                                            <IconButton color=\"inherit\" onClick={()=>this.props.openShareDialog()}>\n                                                <ShareIcon/>\n                                            </IconButton>\n                                        </Tooltip>\n                                    </Grow>\n                                }\n                                {(!this.props.isMultiple&&!window.isSharePage)&&\n                                    <Grow in={(!this.props.isMultiple)}>\n                                        <Tooltip title=\"重命名\">\n                                            <IconButton color=\"inherit\" onClick={()=>this.props.openRenameDialog()}>\n                                                <RenameIcon/>\n                                            </IconButton>\n                                        </Tooltip>\n                                    </Grow>\n                                }\n                                {!window.isSharePage&&<div>\n                                    {!window.isMobile&&<Grow in={(this.props.selected.length!==0)&&!window.isMobile}>\n                                    <Tooltip title=\"移动\">\n                                        <IconButton color=\"inherit\" onClick={()=>this.props.openMoveDialog()}>\n                                            <MoveIcon/>\n                                        </IconButton>\n                                    </Tooltip>\n                                    </Grow>}\n                                    \n                                    <Grow in={(this.props.selected.length!==0)}>\n                                        <Tooltip title=\"删除\">\n                                            <IconButton color=\"inherit\" onClick={()=>this.props.openRemoveDialog()}>\n                                                <DeleteIcon/>\n                                            </IconButton>\n                                        </Tooltip>\n                                    </Grow>\n                                </div>}\n                                \n                                \n                            </div>\n                        }\n                         {(this.props.selected.length <=1 && !(!this.props.isMultiple&&this.props.withFile))&&\n                            <UserAvatar/>\n                        }\n                    </Toolbar>\n                </AppBar>\n                {this.loadUploader()}\n\n                    <Hidden smUp implementation=\"css\">\n                        <SwipeableDrawer\n                            container={this.props.container}\n                            variant=\"temporary\"\n                            classes={{\n                                paper: classes.drawerPaper,\n                            }}\n                            anchor=\"left\"\n                            open={this.state.mobileOpen}\n                            onClose={this.handleDrawerToggle}\n                            onOpen={()=>this.setState(state => ({ mobileOpen: true}))}\n                            disableDiscovery={iOS} \n                            ModalProps={{\n                                keepMounted: true, // Better open performance on mobile.\n                            }}\n                        >\n                            {drawer}\n                        </SwipeableDrawer>\n                    </Hidden>\n                    <Hidden xsDown implementation=\"css\">\n                        <Drawer\n                            classes={{\n                                paper: classNames({\n                                    [classes.drawerOpen]: this.props.desktopOpen,\n                                    [classes.drawerClose]: !this.props.desktopOpen,\n                                  }),\n                            }}\n                            className={classNames(classes.drawer, {\n                                [classes.drawerOpen]: this.props.desktopOpen,\n                                [classes.drawerClose]: !this.props.desktopOpen,\n                            })}\n                            variant=\"persistent\"\n                            anchor=\"left\"\n                            open={this.props.desktopOpen}\n                        ><div className={classes.toolbar} />\n                            {drawer}\n                        </Drawer>\n                    </Hidden>\n        \n            </div>\n        );\n    }\n\n}\nNavbarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n    theme: PropTypes.object.isRequired,\n};\n\nconst Navbar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )( withTheme()(withStyles(styles)(NavbarCompoment)))\n  \nexport default Navbar","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux'\nimport {\n } from \"../actions/index\"\nimport classNames from 'classnames';\nimport { withStyles } from '@material-ui/core/styles';\nimport SnackbarContent from '@material-ui/core/SnackbarContent';\nimport Snackbar from '@material-ui/core/Snackbar'\nimport ErrorIcon from '@material-ui/icons/Error';\nimport InfoIcon from '@material-ui/icons/Info';\nimport CloseIcon from '@material-ui/icons/Close';\nimport green from '@material-ui/core/colors/green';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport amber from '@material-ui/core/colors/amber';\nimport IconButton from '@material-ui/core/IconButton';\nimport WarningIcon from '@material-ui/icons/Warning';\n\nconst mapStateToProps = state => {\n    return {\n        snackbar:state.viewUpdate.snackbar,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n    }\n}\n\nconst variantIcon = {\n    success: CheckCircleIcon,\n    warning: WarningIcon,\n    error: ErrorIcon,\n    info: InfoIcon,\n  };\n\nconst styles1 = theme => ({\n    success: {\n        backgroundColor: green[600],\n      },\n      error: {\n        backgroundColor: theme.palette.error.dark,\n      },\n      info: {\n        backgroundColor: theme.palette.primary.dark,\n      },\n      warning: {\n        backgroundColor: amber[700],\n      },\n      icon: {\n        fontSize: 20,\n      },\n      iconVariant: {\n        opacity: 0.9,\n        marginRight: theme.spacing.unit,\n      },\n      message: {\n        display: 'flex',\n        alignItems: 'center',\n      },\n})\n\nfunction MySnackbarContent(props) {\n    const { classes, className, message, onClose, variant, ...other } = props;\n    const Icon = variantIcon[variant];\n  \n    return (\n      <SnackbarContent\n        className={classNames(classes[variant], className)}\n        aria-describedby=\"client-snackbar\"\n        message={\n          <span id=\"client-snackbar\" className={classes.message}>\n            <Icon className={classNames(classes.icon, classes.iconVariant)} />\n            {message}\n          </span>\n        }\n        action={[\n          <IconButton\n            key=\"close\"\n            aria-label=\"Close\"\n            color=\"inherit\"\n            className={classes.close}\n            onClick={onClose}\n          >\n            <CloseIcon className={classes.icon} />\n          </IconButton>,\n        ]}\n        {...other}\n      />\n    );\n  }\n  MySnackbarContent.propTypes = {\n    classes: PropTypes.object.isRequired,\n    className: PropTypes.string,\n    message: PropTypes.node,\n    onClose: PropTypes.func,\n    variant: PropTypes.oneOf(['success', 'warning', 'error', 'info']).isRequired,\n  };\n  \nconst MySnackbarContentWrapper = withStyles(styles1)(MySnackbarContent);  \nconst styles = theme => ({\n    margin: {\n        margin: theme.spacing.unit,\n    },\n})\nclass SnackbarCompoment extends Component {\n\n    state={\n        open:false,\n    }\n\n    componentWillReceiveProps = (nextProps)=>{\n        if(nextProps.snackbar.toggle !== this.props.snackbar.toggle){\n            this.setState({open:true});\n        }\n    }\n\n    handleClose= ()=>{\n        this.setState({open:false});\n    } \n    \n    render() {\n\n        return (\n            <Snackbar\n            anchorOrigin={{\n                vertical: this.props.snackbar.vertical,\n                horizontal: this.props.snackbar.horizontal,\n            }}\n            open={this.state.open}\n            autoHideDuration={6000}\n            onClose={this.handleClose}\n            >\n            <MySnackbarContentWrapper\n                onClose={this.handleClose}\n                variant={this.props.snackbar.color}\n                message={this.props.snackbar.msg} \n            />\n        </Snackbar>\n        );\n    }\n\n}\n\nconst AlertBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)( withStyles(styles)(SnackbarCompoment))\n  \nexport default AlertBar","const checkSelectedProps = (state)=>{\n    let isMultiple,withFolder,withFile=false;\n    isMultiple = (state.selected.length>1);\n    // eslint-disable-next-line\n    state.selected.map((value)=>{\n        if(value.type===\"dir\"){\n            withFolder = true;\n        }else if(value.type===\"file\"){\n            withFile = true;\n        }\n    })\n    return [isMultiple,withFolder,withFile];\n}\n\nconst doNavigate = (path,state)=>{\n    return Object.assign({}, state, {\n        navigator:Object.assign({}, state.navigator, {\n            path: path\n        }),\n        viewUpdate:Object.assign({}, state.viewUpdate, {\n            contextOpen:false,\n            navigatorError:false,\n            navigatorLoading:true,\n        }),\n        explorer:Object.assign({}, state.explorer, {\n            selected:[],\n            selectProps: {\n                isMultiple:false,\n                withFolder:false,\n                withFile:false,\n            },\n            keywords:null,\n        }),\n    });\n}\n\nconst cloudreveApp = (state = [], action) => {\n    switch (action.type) {\n        case 'DRAWER_TOGGLE':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    open:action.open,\n                }),\n            });\n        case 'CHANGE_VIEW_METHOD':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    explorerViewMethod:action.method,\n                }),\n            });\n        case 'CHANGE_SORT_METHOD':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    sortMethod:action.method,\n                }),\n            });\n        case 'CHANGE_CONTEXT_MENU':\n            if(state.viewUpdate.contextOpen && action.open){\n                return Object.assign({}, state);\n            }\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                contextOpen: action.open,\n                contextType:action.menuType,\n                }),\n            });\n        case 'SET_NAVIGATOR_LOADING_STATUE':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    navigatorLoading:action.status,\n                }),\n            });\n        case 'SET_NAVIGATOR_ERROR':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    navigatorError: action.status,\n                    navigatorErrorMsg: action.msg,\n                }),\n            });\n        case 'UPDATE_FILE_LIST':\n            // eslint-disable-next-line\n            action.list.sort((a,b)=>{\n                switch (state.viewUpdate.sortMethod) {\n                    case \"sizePos\":\n                        return a.size-b.size;\n                    case \"sizeRes\": \n                        return b.size-a.size;\n                    case 'namePos':\n                        return a.name.localeCompare(b.name);\n                    case 'nameRev':\n                        return b.name.localeCompare(a.name);\n                    case 'timePos':\n                        return Date.parse(a.date)-Date.parse(b.date);\n                    case 'timeRev':\n                        return Date.parse(b.date)-Date.parse(a.date);\n                    default:\n                        break; \n                }\n            })\n            var dirList =  action.list.filter(function (x) {\n                return x.type === \"dir\";\n            });\n            var fileList =  action.list.filter(function (x) {\n                return x.type === \"file\";\n            });\n            return Object.assign({}, state, {\n                explorer: Object.assign({}, state.explorer, {\n                    fileList: fileList,\n                    dirList: dirList,\n                }),\n            });\n        case 'ADD_SELECTED_TARGET':\n            var newState =  Object.assign({}, state, {\n                explorer:Object.assign({}, state.explorer, {\n                    selected: [...state.explorer.selected,action.targets]\n                }),\n            });\n            var selectedProps = checkSelectedProps(newState.explorer);\n            return Object.assign({}, newState, {\n                explorer:Object.assign({}, newState.explorer, {\n                    selectProps: {\n                        isMultiple:selectedProps[0],\n                        withFolder:selectedProps[1],\n                        withFile:selectedProps[2],\n                    }\n                }),\n            });\n        case 'SET_SELECTED_TARGET':\n            // eslint-disable-next-line\n            var newState =  Object.assign({}, state, {\n                explorer:Object.assign({}, state.explorer, {\n                    selected: action.targets\n                }),\n            });\n            // eslint-disable-next-line\n            var selectedProps = checkSelectedProps(newState.explorer);\n            return Object.assign({}, newState, {\n                explorer:Object.assign({}, newState.explorer, {\n                    selectProps: {\n                        isMultiple:selectedProps[0],\n                        withFolder:selectedProps[1],\n                        withFile:selectedProps[2],\n                    }\n                }),\n            });\n        case 'RMOVE_SELECTED_TARGET':\n            var oldSelected = state.explorer.selected.concat();\n            oldSelected.splice(action.id,1);\n            // eslint-disable-next-line\n            var newState =  Object.assign({}, state, {\n                explorer:Object.assign({}, state.explorer, {\n                    selected: oldSelected\n                }),\n            });\n            // eslint-disable-next-line\n            var selectedProps = checkSelectedProps(newState.explorer);\n            return Object.assign({}, newState, {\n                explorer:Object.assign({}, newState.explorer, {\n                    selectProps: {\n                        isMultiple:selectedProps[0],\n                        withFolder:selectedProps[1],\n                        withFile:selectedProps[2],\n                    }\n                }),\n            });\n        case 'NAVIGATOR_TO':\n            return doNavigate(action.path,state);\n        case 'NAVIGATOR_UP':\n            let pathSplit = state.navigator.path.split(\"/\");\n            pathSplit.pop();\n            let newPath = pathSplit.length===1?\"/\":pathSplit.join(\"/\");\n            return doNavigate(newPath,state);\n        case 'OPEN_CREATE_FOLDER_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        createNewFolder:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_RENAME_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        rename:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_REMOVE_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        remove:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_MOVE_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        move:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_SHARE_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        share:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_MUSIC_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        music:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_REMOTE_DOWNLOAD_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        remoteDownload:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_TORRENT_DOWNLOAD_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        torrentDownload:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'OPEN_GET_SOURCE_DIALOG':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        getSource:true,\n                    }),\n                    contextOpen:false,\n                }),\n            });\n        case 'CLOSE_ALL_MODALS': \n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modals: Object.assign({}, state.viewUpdate.modals, {\n                        createNewFolder:false,\n                        rename:false,\n                        move:false,\n                        remove:false,\n                        share:false,\n                        music:false,\n                        remoteDownload:false,\n                        torrentDownload:false,\n                        getSource:false,\n                    }),\n                }),\n            });\n        case 'TOGGLE_SNACKBAR':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    snackbar:{\n                        toggle:!state.viewUpdate.snackbar.toggle,\n                        vertical:action.vertical,\n                        horizontal:action.horizontal,\n                        msg:action.msg,\n                        color:action.color,\n                    },\n                }),\n            });\n        case 'SET_MODALS_LOADING':\n            return Object.assign({}, state, {\n                viewUpdate: Object.assign({}, state.viewUpdate, {\n                    modalsLoading:action.status,\n                }),\n            });\n        case 'REFRESH_FILE_LIST':\n            return Object.assign({}, state, {\n                navigator: Object.assign({}, state.navigator, {\n                    refresh:!state.navigator.refresh,\n                }),\n                explorer:Object.assign({}, state.explorer, {\n                    selected:[],\n                    selectProps: {\n                        isMultiple:false,\n                        withFolder:false,\n                        withFile:false, \n                    }\n                }),\n            });\n        case 'SEARCH_MY_FILE':\n            return Object.assign({}, state, {\n                navigator: Object.assign({}, state.navigator, {\n                    path: \"/搜索结果\",\n                    refresh:!state.navigator.refresh,\n                }),\n                viewUpdate:Object.assign({}, state.viewUpdate, {\n                    contextOpen:false,\n                    navigatorError:false,\n                    navigatorLoading:true,\n                }),\n                explorer:Object.assign({}, state.explorer, {\n                    selected:[],\n                    selectProps: {\n                        isMultiple:false,\n                        withFolder:false,\n                        withFile:false, \n                    },\n                    keywords:action.keywords,\n                }),\n            });\n        case 'SHOW_IMG_PREIVEW':\n            return Object.assign({}, state, {\n                explorer:Object.assign({}, state.explorer, {\n                    imgPreview: {\n                        first:action.first,\n                        other:state.explorer.fileList,\n                    },\n                }),\n            });\n        case 'REFRESH_STORAGE':\n            return Object.assign({}, state, {\n                viewUpdate:Object.assign({}, state.viewUpdate, {\n                    storageRefresh:!state.viewUpdate.storageRefresh,\n                }),\n            });\n        case 'SAVE_FILE':\n            return Object.assign({}, state, {\n                explorer:Object.assign({}, state.explorer, {\n                    fileSave:!state.explorer.fileSave,\n                }),\n            });\n        default:\n            return state\n    }\n  }\n  \n  \nexport default cloudreveApp","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport InputBase from '@material-ui/core/InputBase';\nimport Popper from '@material-ui/core/Popper';\nimport Fade from '@material-ui/core/Fade';\nimport Paper from '@material-ui/core/Paper';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport FileIcon from '@material-ui/icons/InsertDriveFile'\nimport ShareIcon from '@material-ui/icons/Share'\nimport { connect } from 'react-redux'\nimport {\n    searchMyFile,\n}from \"../actions/index\"\n\nconst mapStateToProps = state => {\n    return {\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        searchMyFile:(keywords)=>{\n            dispatch(searchMyFile(keywords));\n        },\n    }\n}\n\nconst styles = theme => ({\n    search: {\n        [theme.breakpoints.down('sm')]: {\n            display:\"none\",\n        },\n        position: 'relative',\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: fade(theme.palette.common.white, 0.15),\n        '&:hover': {\n          backgroundColor: fade(theme.palette.common.white, 0.25),\n        },\n        marginRight: theme.spacing.unit * 2,\n        marginLeft: 0,\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n          marginLeft: theme.spacing.unit * 7.2,\n          width: 'auto',\n        },\n      },\n      searchIcon: {\n        width: theme.spacing.unit * 9,\n        height: '100%',\n        position: 'absolute',\n        pointerEvents: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n      },\n      inputRoot: {\n        color: 'inherit',\n        width: '100%',\n      },\n      inputInput: {\n        paddingTop: theme.spacing.unit,\n        paddingRight: theme.spacing.unit,\n        paddingBottom: theme.spacing.unit,\n        paddingLeft: theme.spacing.unit * 7,\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('md')]: {\n          width: 200,\n          '&:focus': {\n            width: 300,\n          }\n        },\n      },\n      suggestBox:{\n        zIndex: \"9999\",\n        width:364,\n      }\n})\n\nclass SearchBarCompoment extends Component {\n\n    state = {\n        anchorEl: null,\n        input:\"\",\n    };\n\n    handleChange = (event)=>{\n        const { currentTarget } = event;\n        this.input = event.target.value;\n        this.setState({\n            anchorEl:currentTarget,\n            input:event.target.value,\n        });\n    }\n\n    cancelSuggest = ()=>{\n        this.setState({\n            input:\"\",\n        });\n    }\n\n    searchMyFile = ()=>{\n        this.props.searchMyFile(this.input);\n    }\n\n    searchShare = ()=>{\n        window.location.href=\"/Explore/Search/\"+this.input;\n    }\n\n    render() {\n\n        const { classes} = this.props;\n        const { anchorEl } = this.state;\n        const id = this.state.input!==\"\" ? 'simple-popper' : null;\n\n        return (\n            <div className={classes.search}> \n                <div className={classes.searchIcon}>\n                    <SearchIcon />\n                </div>\n                <InputBase\n                    placeholder=\"搜索...\"\n                    classes={{\n                    root: classes.inputRoot,\n                    input: classes.inputInput,\n                    }}\n                    onChange={this.handleChange}\n                    onBlur = {this.cancelSuggest}\n                    value ={this.state.input}\n                />\n                <Popper id={id} open={this.state.input!==\"\"} anchorEl={anchorEl} className={classes.suggestBox} transition>\n                    {({ TransitionProps }) => (\n                        <Fade {...TransitionProps} timeout={350}>\n                            <Paper\n                            square={true}\n                            >\n                            {window.isHomePage&&\n                            <MenuItem onClick={this.searchMyFile}>\n                                <ListItemIcon className={classes.icon}>\n                                    <FileIcon />\n                                </ListItemIcon>\n                                <ListItemText classes={{ primary: classes.primary }} primary={<Typography noWrap>\n                                        在我的文件中搜索 <strong>{this.state.input}</strong>\n                                    </Typography>} />\n                            </MenuItem>\n                            }\n                            \n                            <MenuItem onClick={this.searchShare}>\n                                <ListItemIcon className={classes.icon}>\n                                    <ShareIcon />\n                                </ListItemIcon>\n                                <ListItemText classes={{ primary: classes.primary }} primary={<Typography noWrap>\n                                        在全站分享中搜索 <strong>{this.state.input}</strong>\n                                    </Typography>} />\n                            </MenuItem>\n                            </Paper>\n                        </Fade>\n                    )}\n                </Popper>\n            </div>\n        );\n    }\n}\n\nSearchBarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst SearchBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)( withStyles(styles)(SearchBarCompoment))\n  \nexport default SearchBar","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\nimport StorageIcon from '@material-ui/icons/Storage'\nimport { connect } from 'react-redux'\nimport axios from 'axios'\nimport Tooltip from '@material-ui/core/Tooltip';\nimport {\n    toggleSnackbar,\n}from \"../actions/index\"\n\nconst mapStateToProps = state => {\n    return {\n        refresh:state.viewUpdate.storageRefresh,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        toggleSnackbar:(vertical,horizontal,msg,color)=>{\n            dispatch(toggleSnackbar(vertical,horizontal,msg,color))\n        },\n    }\n}\n\nconst styles = theme => ({\n    iconFix:{\n        marginLeft: \"32px\",\n        marginRight: \"32px\",\n        color: theme.palette.text.secondary,\n        marginTop: \"2px\",\n    },\n    textFix:{\n        \"padding\":\" 0 0 0 16px\",\n    },\n    storageContainer:{\n        display:\"flex\",\n        marginTop: \"15px\",\n   \n        marginBottom: \"20px\",\n    },\n    detail:{\n        width: \"100%\",\n        marginRight: \"20px\",\n    },\n    info:{\n        width:\"131px\",\n        marginTop:\"5px\",\n    },\n    bar:{\n        marginTop: \"5px\",\n    },\n    stickFooter:{\n        bottom: \"0px\",\n        position: \"absolute\",\n        backgroundColor:theme.palette.background.paper,\n    }\n})\n\nclass StorageBarCompoment extends Component {\n\n    state={\n        percent:0,\n        used:null,\n        total:null,\n    }\n\n    firstLoad = true;\n\n    componentDidMount = ()=>{\n        if(this.firstLoad){\n            this.updateStatus();\n            this.firstLoad = !this.firstLoad;\n        }\n        \n    }\n\n    componentWillReceiveProps = (nextProps)=>{\n        if(this.props.refresh!==nextProps.refresh){\n            this.updateStatus();\n        }\n    }\n\n    updateStatus = ()=>{\n        let percent = 0;\n        axios.get('/Member/Memory')\n        .then( (response)=> {\n            if(response.data.rate>=100){\n                percent = 100;\n                this.props.toggleSnackbar(\"top\",\"right\",\"您的已用容量已超过容量配额，请尽快删除多余文件或购买容量\",\"warning\");\n            }else{\n                percent = response.data.rate;\n            }\n            this.setState({\n                percent:percent,\n                used:response.data.used,\n                total:response.data.total,\n            });\n        })\n        .catch((error) =>{\n            \n        });\n    }\n\n    render() {\n        const { classes} = this.props;\n        if(!window.isMobile){\n            return (\n                <div className={classes.stickFooter}><Divider/>  \n            <div className={classes.storageContainer}>\n                <StorageIcon className={classes.iconFix} />    \n                <div className={classes.detail}>\n                    存储空间\n                    <LinearProgress className={classes.bar} color=\"secondary\" variant=\"determinate\" value={this.state.percent} />\n                    <div className={classes.info}>\n                    <Tooltip title={\"已使用\"+((this.state.used===null)?\" -- \":this.state.used)+\"，共\"+((this.state.total===null)?\" -- \":this.state.total)} placement=\"top\">\n                    <Typography variant=\"caption\" noWrap color=\"textSecondary\">已使用{(this.state.used===null)?\" -- \":this.state.used}，共{(this.state.total===null)?\" -- \":this.state.total}</Typography></Tooltip>\n                    </div>\n                </div>\n            </div>\n                  </div>\n            );\n        }else{\n            return (\n                <div className={classes.storageContainer}>\n                <StorageIcon className={classes.iconFix} />    \n                <div className={classes.detail}>\n                    存储空间\n                    <LinearProgress className={classes.bar} color=\"secondary\" variant=\"determinate\" value={this.state.percent} />\n                    <div className={classes.info}>\n                    <Tooltip title={\"已使用\"+((this.state.used===null)?\" -- \":this.state.used)+\"，共\"+((this.state.total===null)?\" -- \":this.state.total)} placement=\"top\">\n                    <Typography variant=\"caption\" noWrap color=\"textSecondary\">已使用{(this.state.used===null)?\" -- \":this.state.used}，共{(this.state.total===null)?\" -- \":this.state.total}</Typography></Tooltip>\n                    </div>\n                </div>\n            </div>\n            );\n        }\n    }\n}\n\nStorageBarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst StorageBar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)( withStyles(styles)(StorageBarCompoment))\n  \nexport default StorageBar","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grow from '@material-ui/core/Grow';\nimport { connect } from 'react-redux'\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Popover from '@material-ui/core/Popover';\nimport SettingIcon from '@material-ui/icons/Settings'\nimport Typography from '@material-ui/core/Typography';\nimport Chip from '@material-ui/core/Chip';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Divider from '@material-ui/core/Divider';\nimport {\n    LogoutVariant,\n    HomeAccount,\n    DesktopMacDashboard,\n    AccountCircle,\n    AccountArrowRight,\n    AccountPlus\n} from 'mdi-material-ui'\nimport {\n\n}from \"../actions/index\"\n\nconst mapStateToProps = state => {\n    return {\n        selected:state.explorer.selected,\n        isMultiple:state.explorer.selectProps.isMultiple,\n        withFolder:state.explorer.selectProps.withFolder,\n        withFile:state.explorer.selectProps.withFile,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n\n    }\n}\n\nconst styles = theme => ({\n    mobileHidden:{\n        [theme.breakpoints.down('xs')]: {\n            display: 'none',\n        },\n    },\n    avatar:{\n        width:\"30px\",\n        height:\"30px\",\n    },\n    header:{\n        display:\"flex\",\n        padding: \"20px 20px 20px 20px\",\n    },\n    largeAvatar:{\n        height:\"90px\",\n        width:\"90px\",\n    },\n    info:{\n        marginLeft: \"10px\",\n        width: \"139px\",\n    },\n    badge:{\n        marginTop:\"10px\",\n    },\n    visitorMenu:{\n        width:200,\n    }\n})\n\nclass UserAvatarCompoment extends Component {\n\n    state={\n        anchorEl:null,\n    }\n\n    showUserInfo = e=>{\n        this.setState({\n            anchorEl:e.currentTarget\n        });\n    }\n\n    handleClose=()=>{\n        this.setState({\n            anchorEl:null,\n        });\n    }\n    \n    openURL = (url)=>{\n        window.location.href=url;\n    }\n\n    render() {\n        const { classes} = this.props;\n        return (\n            <div className={classes.mobileHidden}>\n                \n                <Grow in={((this.props.selected.length <=1) && !(!this.props.isMultiple&&this.props.withFile))}>\n                       <div>\n                       {(window.userInfo.uid!==-1)&&<IconButton onClick={()=>window.location.href=\"/Member/Setting\"} color=\"inherit\" \n                        >\n                            <SettingIcon/>\n                        </IconButton>}\n                      \n                        <IconButton color=\"inherit\" onClick={this.showUserInfo}>\n                        {window.userInfo.uid===-1&&\n                            <AccountCircle/>\n                        }\n                        {window.userInfo.uid!==-1&&<Avatar  src={\"/Member/Avatar/\"+window.userInfo.uid+\"/s\"} className={classes.avatar} />}\n                        \n                        </IconButton> </div>\n                </Grow>\n                <Popover \n                open = {this.state.anchorEl!==null}\n                onClose={this.handleClose}\n                anchorEl={this.state.anchorEl}\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'right',\n                }}\n                transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right',\n                }}\n                >\n                {window.userInfo.uid===-1&&\n                     <div className={classes.visitorMenu}>\n                     <Divider/>\n                     <MenuItem onClick={()=>this.openURL(\"/Login\")}>\n                             <ListItemIcon><AccountArrowRight/></ListItemIcon>\n                                 登录\n                         </MenuItem>\n                     <MenuItem onClick={()=>this.openURL(\"/Signup\")}>\n                         <ListItemIcon><AccountPlus/></ListItemIcon>\n                             注册\n                     </MenuItem>\n                   </div>\n                }\n                {window.userInfo.uid!==-1&&\n                <div>\n                    <div className={classes.header}>\n                        <div className={classes.largeAvatarContainer}>\n                            <Avatar className={classes.largeAvatar} src={\"/Member/Avatar/\"+window.userInfo.uid+\"/l\"} />\n                        </div>\n                        <div className={classes.info}>\n                            <Typography noWrap>{window.userInfo.nick}</Typography>\n                            <Typography color=\"textSecondary\" noWrap>{window.userInfo.email}</Typography>\n                            <Chip\n                                className={classes.badge}\n                                color={window.userInfo.groupId === 1?\"secondary\":\"default\"}\n                                label={window.userInfo.group}\n                            />\n                        </div>\n                    </div>\n                    <div>\n                        <Divider/>\n                        <MenuItem onClick={()=>this.openURL(\"/Profile/\"+window.userInfo.uid)}>\n                                <ListItemIcon><HomeAccount/></ListItemIcon>\n                                    个人主页\n                            </MenuItem>\n                        {(window.userInfo.groupId === 1)&&\n                            <MenuItem onClick={()=>this.openURL(\"/Admin\")}>\n                                <ListItemIcon><DesktopMacDashboard/></ListItemIcon>\n                                    管理面板\n                            </MenuItem>\n                        }\n                       \n                        <MenuItem onClick={()=>this.openURL(\"/Member/LogOut\")}>\n                            <ListItemIcon><LogoutVariant/></ListItemIcon>\n                                退出\n                        </MenuItem>\n                    </div></div>}\n                </Popover>\n            </div>\n        );\n    }\n}\n\nUserAvatarCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst UserAvatar = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)( withStyles(styles)(UserAvatarCompoment))\n  \nexport default UserAvatar","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux'\nimport Typography from '@material-ui/core/Typography';\nimport {\n}from \"../actions/index\"\n\nconst mapStateToProps = state => {\n    return {\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n    }\n}\n\nconst styles = theme => ({\n    userNav:{\n        height:\"170px\",\n        backgroundColor: theme.palette.primary.main,\n        padding: \"20px 20px 2em\",\n        backgroundImage: \"url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1600 900'%3E%3Cpolygon fill='\"+theme.palette.primary.light.replace(\"#\",\"%23\")+\"' points='957 450 539 900 1396 900'/%3E%3Cpolygon fill='\"+theme.palette.primary.dark.replace(\"#\",\"%23\")+\"' points='957 450 872.9 900 1396 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.main.replace(\"#\",\"%23\")+\"' points='-60 900 398 662 816 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.dark.replace(\"#\",\"%23\")+\"' points='337 900 398 662 816 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.light.replace(\"#\",\"%23\")+\"' points='1203 546 1552 900 876 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.main.replace(\"#\",\"%23\")+\"' points='1203 546 1552 900 1162 900'/%3E%3Cpolygon fill='\"+theme.palette.primary.dark.replace(\"#\",\"%23\")+\"' points='641 695 886 900 367 900'/%3E%3Cpolygon fill='\"+theme.palette.primary.main.replace(\"#\",\"%23\")+\"' points='587 900 641 695 886 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.light.replace(\"#\",\"%23\")+\"' points='1710 900 1401 632 1096 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.dark.replace(\"#\",\"%23\")+\"' points='1710 900 1401 632 1365 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.main.replace(\"#\",\"%23\")+\"' points='1210 900 971 687 725 900'/%3E%3Cpolygon fill='\"+theme.palette.secondary.dark.replace(\"#\",\"%23\")+\"' points='943 900 1210 900 971 687'/%3E%3C/svg%3E\\\")\",\n        backgroundSize: \"cover\",\n    },\n    avatar:{\n        display: \"block\",\n        width: \"80px\",\n        height: \"80px\",\n        border:\" 2px solid #fff\",\n        borderRadius: \"50%\",\n        overflow: \"hidden\",\n        boxShadow: \"0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12)\",\n    },\n    avatarImg:{\n        width: \"80px\",\n        height: \"80px\",\n    },\n    nickName:{\n        color: \"#fff\",\n        marginLeft: \"10px\",\n        marginTop: \"15px\",\n        fontSize: \"17px\",\n    },\n    flexAvatar:{\n        display:\"flex\",\n    },\n    groupName:{\n        marginLeft: \"10px\",\n        color:\"#ffffff8a\",\n    },\n    storageCircle:{\n        width: \"200px\",\n    }\n})\n\nclass UserInfoCompoment extends Component {\n\n    render() {\n        const { classes} = this.props;\n\n        return (\n            <div className={classes.userNav}>\n                <div className={classes.flexAvatar}>\n                    <a href={\"/Profile/\"+window.userInfo.uid} className={classes.avatar}>\n                        {(window.userInfo.uid!==-1)&&<img alt=\"avatar\" src={\"/Member/Avatar/\"+window.userInfo.uid+\"/l\"} className={classes.avatarImg}></img>}\n                        {(window.userInfo.uid===-1)&&<img alt=\"avatar\" src={\"/Member/Avatar/0/l\"} className={classes.avatarImg}></img>}\n                    </a>\n                \n                </div>\n                <div className={classes.storageCircle}><Typography className={classes.nickName} component=\"h2\" noWrap>{window.userInfo.nick}</Typography>\n                    <Typography className={classes.groupName} component=\"h2\" color=\"textSecondary\" noWrap>{window.userInfo.group}</Typography></div>\n            </div>           \n        );\n      \n    }\n}\n\nUserInfoCompoment.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nconst UserInfo = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)( withStyles(styles)(UserInfoCompoment))\n  \nexport default UserInfo","export const isDefined = val => val != null\nexport const isFunction = val => typeof val === 'function'\nexport const noop = _ => { }\n\nexport const newScript = (src) => (cb) => {\n  const scriptElem = document.createElement('script')\n  if (typeof src === 'object') {\n    // copy every property to the element\n    for (var key in src) {\n      if (Object.prototype.hasOwnProperty.call(src, key)) {\n        scriptElem[key] = src[key];\n      }\n    }\n    src = src.src;\n  } else {\n    scriptElem.src = src\n  }\n  scriptElem.addEventListener('load', () => cb(null, src))\n  scriptElem.addEventListener('error', () => cb(true, src))\n  document.body.appendChild(scriptElem)\n  return scriptElem\n}\n\nconst keyIterator = (cols) => {\n  const keys = Object.keys(cols)\n  let i = -1\n  return {\n    next () {\n      i++ // inc\n      if (i >= keys.length) return null\n      else return keys[i]\n    }\n  }\n}\n\n// tasks should be a collection of thunk\nexport const parallel = (...tasks) => (each) => (cb) => {\n  let hasError = false\n  let successed = 0\n  const ret = []\n  tasks = tasks.filter(isFunction)\n\n  if (tasks.length <= 0) cb(null)\n  else {\n    tasks.forEach((task, i) => {\n      const thunk = task\n      thunk((err, ...args) => {\n        if (err) hasError = true\n        else {\n          // collect result\n          if (args.length <= 1) args = args[0]\n\n          ret[i] = args\n          successed ++\n        }\n\n        if (isFunction(each)) each.call(null, err, args, i)\n\n        if (hasError) cb(true)\n        else if (tasks.length === successed) {\n          cb(null, ret)\n        }\n      })\n    })\n  }\n}\n\n// tasks should be a collection of thunk\nexport const series = (...tasks) => (each) => (cb) => {\n  tasks = tasks.filter(val => val != null)\n  const nextKey = keyIterator(tasks)\n  const nextThunk = () => {\n    const key = nextKey.next()\n    let thunk = tasks[key]\n    if (Array.isArray(thunk)) thunk = parallel.apply(null, thunk).call(null, each)\n    return [ +key, thunk ] // convert `key` to number\n  }\n  let key, thunk\n  let next = nextThunk()\n  key = next[0]\n  thunk = next[1]\n  if (thunk == null) return cb(null)\n\n  const ret = []\n  const iterator = () => {\n    thunk((err, ...args) => {\n      if (args.length <= 1) args = args[0]\n      if (isFunction(each)) each.call(null, err, args, key)\n\n      if (err) cb(err)\n      else {\n        // collect result\n        ret.push(args)\n\n        next = nextThunk()\n        key = next[0]\n        thunk = next[1]\n        if (thunk == null) return cb(null, ret) // finished\n        else iterator()\n      }\n    })\n  }\n  iterator()\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport hoistStatics from 'hoist-non-react-statics'\nimport { newScript, series, noop } from './utils'\n\nconst loadedScript = []\nconst pendingScripts = {}\nlet failedScript = []\n\nexport function startLoadingScripts(scripts, onComplete = noop) {\n  // sequence load\n  const loadNewScript = (script) => {\n    const src = typeof script === 'object' ? script.src : script\n    if (loadedScript.indexOf(src) < 0) {\n      return taskComplete => {\n        const callbacks = pendingScripts[src] || []\n        callbacks.push(taskComplete)\n        pendingScripts[src] = callbacks\n        if (callbacks.length === 1) {\n          return newScript(script)(err => {\n            pendingScripts[src].forEach(cb => cb(err, src))\n            delete pendingScripts[src]\n          })\n        }\n      }\n    }\n  }\n  const tasks = scripts.map(src => {\n    if (Array.isArray(src)) {\n      return src.map(loadNewScript)\n    }\n    else return loadNewScript(src)\n  })\n\n  series(...tasks)((err, src) => {\n    if (err) {\n      failedScript.push(src)\n    }\n    else {\n      if (Array.isArray(src)) {\n        src.forEach(addCache)\n      }\n      else addCache(src)\n    }\n  })(err => {\n    removeFailedScript()\n    onComplete(err)\n  })\n}\n\nconst addCache = (entry) => {\n  if (loadedScript.indexOf(entry) < 0) {\n    loadedScript.push(entry)\n  }\n}\n\nconst removeFailedScript = () => {\n  if (failedScript.length > 0) {\n    failedScript.forEach((script) => {\n      const node = document.querySelector(`script[src='${script}']`)\n      if (node != null) {\n        node.parentNode.removeChild(node)\n      }\n    })\n\n    failedScript = []\n  }\n}\n\nconst scriptLoader = (...scripts) => (WrappedComponent) => {\n  class ScriptLoader extends Component {\n    static propTypes = {\n      onScriptLoaded: PropTypes.func\n    }\n\n    static defaultProps = {\n      onScriptLoaded: noop\n    }\n\n    constructor (props, context) {\n      super(props, context)\n\n      this.state = {\n        isScriptLoaded: false,\n        isScriptLoadSucceed: false\n      }\n\n      this._isMounted = false;\n    }\n\n    componentDidMount () {\n      this._isMounted = true;\n      startLoadingScripts(scripts, err => {\n        if(this._isMounted) {\n          this.setState({\n            isScriptLoaded: true,\n            isScriptLoadSucceed: !err\n          }, () => {\n            if (!err) {\n              this.props.onScriptLoaded()\n            }\n          })\n        }\n      })\n    }\n\n    componentWillUnmount () {\n      this._isMounted = false;\n    }\n\n    getWrappedInstance () {\n      return this.refs.wrappedInstance;\n    }\n\n    render () {\n      const props = {\n        ...this.props,\n        ...this.state,\n        ref: 'wrappedInstance'\n      }\n\n      return (\n        <WrappedComponent {...props} />\n      )\n    }\n  }\n\n  return hoistStatics(ScriptLoader, WrappedComponent)\n}\n\nexport default scriptLoader\n","import React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItem from '@material-ui/core/ListItem';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport CloseIcon from '@material-ui/icons/Close';\nimport FileIcon from '@material-ui/icons/InsertDriveFile';\nimport PhotoIcon from '@material-ui/icons/MusicNote';\nimport VideoIcon from '@material-ui/icons/Videocam';\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\nimport MusicIcon from '@material-ui/icons/MusicNote';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport Slide from '@material-ui/core/Slide';\nimport Avatar from '@material-ui/core/Avatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\nimport DialogContent from '@material-ui/core/DialogContent';\n\nconst styles = theme => ({\n    appBar: {\n        position: 'relative',\n    },\n    flex: {\n        flex: 1,\n    },\n    progressBar:{\n        marginTop:5,\n    },\n    minHight:{\n        [theme.breakpoints.up('sm')]: {\n            minWidth:500,\n        }\n    },\n    dialogContent:{\n        padding:0,\n    },\n    successStatus:{\n        marginBottom:10,\n        color:\"#4caf50\",\n    },\n    errorStatus:{\n        marginBottom:10,\n        color:\"#ff5722\",\n    },\n});\nclass FileList extends Component {\n\n    state = {\n        open: false,\n        files: [\n        ],\n    };\n\n    //入队\n    enQueue(files) {\n        var filesNow = this.state.files;\n        if (filesNow.findIndex((file) => { return file.id === files.id }) === -1) {\n            filesNow.push(files);\n            this.setState({\n                files: filesNow,\n            });\n        }\n        console.log(this.state);\n\n    }\n\n    deQueue(file){\n        var filesNow = this.state.files;\n        var fileID = filesNow.findIndex((f) => { return f.id === file.id });\n        if (fileID !== -1) {\n            filesNow.splice(fileID, 1);\n            this.setState({\n                files: filesNow,\n            });\n        }\n    }\n\n    updateStatus(file){\n        var filesNow = this.state.files;\n        var fileID = filesNow.findIndex((f) => { return f.id === file.id });\n        if (fileID !== -1) {\n            if(filesNow[fileID].status!==4){\n                filesNow[fileID] = file;\n                this.setState({\n                    files: filesNow,\n                });\n            }\n            \n        }\n    }\n\n    setComplete(file){\n        var filesNow = this.state.files;\n        var fileID = filesNow.findIndex((f) => { return f.id === file.id });\n        if (fileID !== -1) {\n            if(filesNow[fileID].status!==4){\n                filesNow[fileID].status = 5;\n                this.setState({\n                    files: filesNow,\n                });\n            }\n            \n        }\n    }\n\n    setError(file,errMsg){\n        var filesNow = this.state.files;\n        var fileID = filesNow.findIndex((f) => { return f.id === file.id });\n        if (fileID !== -1) {\n            filesNow[fileID].status = 4;\n            filesNow[fileID].errMsg = errMsg;\n        }else{\n            file.status = 4;\n            file.errMsg = errMsg;\n            filesNow.push(file);\n        }\n        this.setState({\n            files: filesNow,\n        });\n    }\n\n    Transition(props) {\n        return <Slide direction=\"up\" {...props} />;\n    }\n    openFileList = () => {\n        if(!this.state.open){\n            this.setState({ open: true });\n        }\n        \n    };\n\n    cancelUpload = file =>{\n        this.props.cancelUpload(file);\n        this.deQueue(file);\n    }\n\n    handleClose = () => {\n        this.setState({ open: false });\n\n    };\n\n    addNewFile = () => {\n        document.getElementsByClassName(\"uploadForm\")[0].click();\n    }\n\n    render() {\n\n        const { classes } = this.props;\n        const { width } = this.props;\n\n        const fileIcon = {\n            \"image\":[\"jpg\",\"bpm\",\"png\",\"gif\",\"jpeg\",\"webp\",\"svg\"],\n            \"video\":[\"mp4\",\"rmvb\",\"flv\",\"avi\"],\n            \"audio\":[\"mp3\",\"ogg\",\"flac\",\"aac\"],\n        };\n\n        this.props.inRef({\n            \"openFileList\":this.openFileList.bind(this),\n            \"enQueue\":this.enQueue.bind(this),\n            \"updateStatus\":this.updateStatus.bind(this),\n            \"setComplete\":this.setComplete.bind(this),\n            \"setError\":this.setError.bind(this),\n        });\n\n        var listContent = (\n            this.state.files.map(function(item, i){\n                var progressItem;\n                var queueIcon;\n\n                if(fileIcon[\"image\"].indexOf(item.name.split(\".\").pop())!==-1){\n                    queueIcon = (<PhotoIcon></PhotoIcon>);\n                }else if(fileIcon[\"video\"].indexOf(item.name.split(\".\").pop())!==-1){\n                    queueIcon = (<VideoIcon></VideoIcon>);\n                }else if(fileIcon[\"audio\"].indexOf(item.name.split(\".\").pop())!==-1){\n                    queueIcon = (<MusicIcon></MusicIcon>);\n                }else{\n                    queueIcon = (<FileIcon></FileIcon>);\n                }\n            \n                if(item.status ===5){\n                    progressItem = (<ListItemText primary={item.name} secondary={<div className={classes.successStatus}>已完成<br/></div>} />);\n                }else if (item.status ===2){\n                    progressItem = (<ListItemText primary={item.name} secondary={<div>{window.plupload.formatSize(item.speed).toUpperCase()}/s 已上传 {window.plupload.formatSize(item.loaded).toUpperCase()} , 共 {window.plupload.formatSize(item.size).toUpperCase()} - {item.percent}% <br/><LinearProgress variant=\"determinate\" value={item.percent} className={classes.progressBar} /></div>}/>);\n                }else if (item.status ===1){\n                    progressItem = (<ListItemText primary={item.name} secondary={<div>排队中<br/><LinearProgress className={classes.progressBar}/></div>} />);\n                }else if (item.status ===4){\n                    progressItem = (<ListItemText primary={item.name} secondary={<div className={classes.errorStatus}>{item.errMsg}<br/></div>} />);\n                }else{\n                    progressItem = (<ListItemText primary={item.name} secondary={item.status} />);\n                }\n                return (\n                    <div key={i}>\n                        <ListItem button >\n                            <Avatar>\n                                {queueIcon}\n                            </Avatar>\n                            {progressItem}\n                            \n                            <ListItemSecondaryAction>\n                                <IconButton aria-label=\"Delete\" onClick={()=>this.cancelUpload(item)}>\n                                    <DeleteIcon />\n                                </IconButton>\n                            </ListItemSecondaryAction>\n\n                        </ListItem>\n                        <Divider /></div>\n                );\n            },this)\n\n        );\n\n        return (\n            <Dialog\n            fullScreen={isWidthDown(\"sm\", width)}\n                open={this.state.open}\n                onClose={this.handleClose}\n                TransitionComponent={this.Transition}\n            >\n                <AppBar className={classes.appBar}>\n                    <Toolbar>\n                        <IconButton color=\"inherit\" onClick={this.handleClose} aria-label=\"Close\">\n                            <CloseIcon />\n                        </IconButton>\n                        <Typography variant=\"h6\" color=\"inherit\"  className={classes.flex}>\n                            上传队列\n                        </Typography>\n                        <IconButton color=\"inherit\" onClick={this.addNewFile}>\n                           <AddIcon/>\n                        </IconButton>\n                    </Toolbar>\n                    \n                </AppBar>\n                <DialogContent className={classes.dialogContent}>\n                <List className={classes.minHight}>\n                    {listContent}\n                </List>\n                </DialogContent>\n            </Dialog>\n        );\n    }\n\n}\nFileList.propTypes = {\n};\n\nexport default withStyles(styles)(withWidth()(FileList));","import React, { Component } from 'react'\nimport scriptLoader from '../loader/index.js'\nimport { connect } from 'react-redux'\nimport {\n    refreshFileList,\n    refreshStorage\n} from \"../actions/index\"\nimport FileList from \"./Upload/FileList.js\"\n\nlet loaded = false;\n\nconst mapStateToProps = state => {\n    return {\n        path:state.navigator.path,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        refreshFileList:()=>{\n            dispatch(refreshFileList())\n        },\n        refreshStorage:()=>{\n            dispatch(refreshStorage())\n        }\n    }\n}\n\nclass UploaderCompoment extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state={\n            queued:0,\n        }\n    }\n\n    setRef(val){\n        this.fileList=val;\n    }\n\n    cancelUpload(file){\n        this.uploader.removeFile(file);\n    }\n    shouldComponentUpdate(nextProps,nextState){\n        if(nextState.queued !== this.state.queued){\n          this.props.queueChange(nextState.queued);\n        }\n        return false;\n    }\n\n    componentWillReceiveProps({ isScriptLoaded, isScriptLoadSucceed }) {\n        if (isScriptLoaded && !this.props.isScriptLoaded) { // load finished\n            if (isScriptLoadSucceed) {\n                if(loaded){\n                    return;\n                }\n                loaded = true;\n                this.uploader = window.Qiniu.uploader({\n                    runtimes: 'html5',\n                    browse_button: 'pickfiles',\n                    container: 'container',\n                    drop_element: 'container',\n                    max_file_size: window.uploadConfig.maxSize,\n                    dragdrop: true,\n                    chunk_size: window.ChunkSize,\n                    filters: {\n                        mime_types: window.uploadConfig.allowedType,\n                    },\n                    multi_selection: !(window.moxie.core.utils.Env.OS.toLowerCase() === \"ios\"),\n                    uptoken_url: \"/Upload/Token\",\n                    domain: \"s\",\n                    get_new_uptoken: true,\n                    auto_start: true,\n                    log_level: 5,\n                    init: {\n                        'FilesAdded':({up, files})=>{\n                            this.fileList[\"openFileList\"]();\n                            window.plupload.each(files, (files)=> {\n                                window.pathCache[files.id] = this.props.path;\n                                this.fileList[\"enQueue\"](files);\n                           })\n                           console.log(window.pathCache);\n                        },\n                            \n                        \n                        'BeforeUpload': function (up, file) {\n                        },\n                        \"QueueChanged\":(up=>{\n                            this.setState({queued:up.total.queued});\n                        }),\n                        'UploadProgress': (up, file)=>{\n                            this.fileList[\"updateStatus\"](file);\n                        },\n                        'UploadComplete': (up, file)=>{\n                            if(file.length===0){\n                                return \n                            }\n                            if(file[0].status === 5){\n                                this.fileList[\"setComplete\"](file[0]);\n                                this.props.refreshFileList(); \n                                this.props.refreshStorage();\n                            }\n                            \n                        },\n                        'FileUploaded': function (up, file, info) {\n                           \n                        },\n                        'Error': (up, err, errTip)=>{\n                            this.fileList[\"openFileList\"]();\n                            this.fileList[\"setError\"](err.file,errTip);\n                        },\n                        \"FilesRemoved\":(up, files)=>{\n                        },\n                    }\n                });\n               // this.fileList[\"openFileList\"]();\n            }\n            else this.onError()\n        }\n    }\n\n    componentDidMount() {\n        const { isScriptLoaded, isScriptLoadSucceed } = this.props\n        if (isScriptLoaded && isScriptLoadSucceed) {\n        }\n        \n    }\n\n    onError(){\n\n    }\n\n    openFileList=()=>{\n        this.fileList[\"openFileList\"]();\n    };\n\n\n    render() {\n        return (\n             <div>\n                <FileList inRef= {this.setRef.bind(this)} cancelUpload={this.cancelUpload.bind(this)}/>\n             </div>\n        );\n    }\n\n}\n\nconst Uploader = connect(\n    mapStateToProps,\n    mapDispatchToProps,\n    null,\n    {forwardRef : true}\n)( scriptLoader(\n    ['/static/js/uploader/moxie.js'],\n    ['/static/js/uploader/plupload.dev.js'],\n    ['/static/js/uploader/i18n/zh_CN.js'], \n    ['/static/js/uploader/ui.js'],\n    ['/static/js/uploader/uploader.js'],\n\n)(UploaderCompoment))\n  \nexport default Uploader"],"sourceRoot":""}